{"version":3,"mappings":"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","names":["QUESTION_CONFIG","SCALE_OPTIONS","getAllQuestionIds","allIds","q","subcategory","subtype","getTotalQuestionCount","FATIGUE_TYPE_NAMES","FATIGUE_LEVEL_LABELS","RESILIENCE_LEVEL_LABELS","SCENE_NAMES","FatigueCalculator","answers","fatigueLevel","sceneScores","typeMatches","recoveryLevel","primaryType","secondaryType","personalTags","reportProfile","scores","id","average","sum","score","workQuestions","relationshipQuestions","selfDemandQuestions","workScore","relationshipScore","selfDemandScore","code","questions","avgScore","matchScore","a","b","resilienceQuestions","tags","sceneEntries","dominantScenes","_","scene","sceneIntensities","specialPatterns","keyTags","patterns","primaryTypeCode","tag","questionIds","validScores","fatigueCalculator","calculateFatigueResult","useFatigueTestStore","defineStore","state","totalQuestions","answeredQuestions","endTime","questionId","error","content","resolve","saved","savedAnswers","exportData","module","completed","total","percentage","index","missingQuestions","warnings","answerValues","moduleProgress","progress","fatigueTestStore","router","useRouter","isLoading","ref","startTest","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_7","_hoisted_8","_cache","props","__props","computed","estimatedTimeRemaining","remainingQuestions","estimatedMinutes","_toDisplayString","_hoisted_5","_hoisted_6","emit","__emit","selectedScore","value","focusedOption","scaleOptions","selectScore","_Fragment","_renderList","option","$event","_withKeys","_normalizeClass","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","_a","opt","showMobileNav","hasPrevious","hasNext","canGoNext","currentQuestion","canSubmit","currentModuleProgress","moduleName","moduleQuestions","goPrevious","goNext","goToQuestion","goToQuestionMobile","submit","_hoisted_9","_hoisted_13","_createTextVNode","submitting","showSubmitDialog","allQuestions","currentModuleInfo","validation","getCategoryLabel","question","saveAnswer","onAnswerSelected","handleAutoNext","submitTest","confirmSubmit","__vitePreload","calculator","generateDetailedReport","reportContent","generateReportContent","testResult","durationSeconds","fatigueLabel","reportDuration","psychologicalInsight","generatePsychologicalInsight","behaviorAnalysis","generateBehaviorAnalysis","scenarioAnalysis","generateScenarioAnalysis","rootCauseAnalysis","generateRootCauseAnalysis","interventionStrategies","generateInterventionStrategies","actionPlan","generateActionPlan","professionalAssessment","generateProfessionalAssessment","formatDuration","seconds","minutes","remainingSeconds","_sceneScores","_personalTags","levelLabels","currentLevel","typeInsight","_primaryType","_recoveryLevel","_fatigueLevel","riskLevel","recoveryScore","watch","newIndex","oldIndex","onMounted","_unref","_createVNode","ProgressBar","_Transition","_createBlock","QuestionItem","QuestionNavigation","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","warning","_hoisted_26","_hoisted_29","_hoisted_30","result","getSceneName","getScoreColor","getScoreBarColor","getPressureLevel","getPressureLevelClass","getPressureAdvice","sceneName","getRecoveryLevelClass","level","getRecoveryScoreText","getTypeDescription","typeCode","getRecoveryDescription","getTypeManifestations","getTypeImprovementAdvice","getResilienceMetrics","getResilienceImprovement","getMatchLevel","getWorkPressureLevel","getResilienceLevelInfo","restartTest","processReportContent","htmlContent","processedHtml","behaviorPatternSection","lists","parallelListsHtml","sectionStart","sectionEnd","newSection","goToTest","_normalizeStyle","_hoisted_27","_hoisted_28","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","manifestation","_hoisted_40","_hoisted_41","advice","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","i","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","suggestion","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_77","goHome","routes","Introduction","Questionnaire","Results","NotFound","createRouter","createWebHistory","to","_component_router_view","_withCtx","Component","_resolveDynamicComponent","app","createApp","App","pinia","createPinia"],"ignoreList":[],"sources":["../../src/data/questions.ts","../../src/utils/calculator.ts","../../src/stores/fatigueTest.ts","../../src/views/Introduction.vue","../../src/components/ProgressBar.vue","../../src/components/QuestionItem.vue","../../src/components/QuestionNavigation.vue","../../src/views/Questionnaire.vue","../../src/views/Results.vue","../../src/views/NotFound.vue","../../src/router/index.ts","../../src/App.vue","../../src/main.ts"],"sourcesContent":["import type { QuestionConfig } from '@/types';\r\n\r\nexport const QUESTION_CONFIG: QuestionConfig = {\r\n  A: {\r\n    title: \"整体疲惫强度评估\",\r\n    description: \"用来判断你到底有多累，不区分场景、不谈来源。\",\r\n    questions: [\r\n      {\r\n        id: \"A1\",\r\n        text: \"最近一段时间，我早上醒来时，经常觉得自己根本没有真正休息好。\",\r\n        category: \"fatigue_intensity\"\r\n      },\r\n      {\r\n        id: \"A2\",\r\n        text: \"明明睡眠时间差不多，但整个人总是提不起精神、像手机电量一直不满格。\",\r\n        category: \"fatigue_intensity\"\r\n      },\r\n      {\r\n        id: \"A3\",\r\n        text: \"一天下来，我会觉得脑子被掏空，哪怕什么都不做也很难真正放松。\",\r\n        category: \"fatigue_intensity\"\r\n      },\r\n      {\r\n        id: \"A4\",\r\n        text: \"最近，我很容易对小事失去耐心，情绪一下子就被点燃或拉低。\",\r\n        category: \"fatigue_intensity\"\r\n      },\r\n      {\r\n        id: \"A5\",\r\n        text: \"我经常需要强迫自己去完成本来应该轻松完成的事情。\",\r\n        category: \"fatigue_intensity\"\r\n      },\r\n      {\r\n        id: \"A6\",\r\n        text: \"我常常会有一种说不出原因的心累，明明没有发生什么大事，却总觉得压得喘不过气。\",\r\n        category: \"fatigue_intensity\"\r\n      },\r\n      {\r\n        id: \"A7\",\r\n        text: \"最近，我的注意力很难集中，看东西、开会或聊天都会不自觉走神。\",\r\n        category: \"fatigue_intensity\"\r\n      },\r\n      {\r\n        id: \"A8\",\r\n        text: \"即使有空闲时间，我也很难真正投入一件事，总有一种怎么都休息不够的感觉。\",\r\n        category: \"fatigue_intensity\"\r\n      }\r\n    ]\r\n  },\r\n\r\n  B: {\r\n    title: \"疲惫场景 / 掉血地图\",\r\n    description: \"回答你主要是在哪些场景被榨干\",\r\n    subcategories: {\r\n      work: {\r\n        title: \"工作 / 学习压力\",\r\n        description: \"评估你在工作和学习场景中的消耗程度\",\r\n        questions: [\r\n          {\r\n            id: \"B1\",\r\n            text: \"面对工作 / 学习任务时，我经常有一种怎么追也追不完的焦虑感。\",\r\n            category: \"work\"\r\n          },\r\n          {\r\n            id: \"B2\",\r\n            text: \"我常常担心自己在工作 / 学习上的表现不够好，会被否定或被淘汰。\",\r\n            category: \"work\"\r\n          },\r\n          {\r\n            id: \"B3\",\r\n            text: \"即使已经很累了，我还是会不自觉地多接一些工作 / 任务，生怕被说不上进。\",\r\n            category: \"work\"\r\n          },\r\n          {\r\n            id: \"B4\",\r\n            text: \"最近，我在工作 / 学习中很难找到成就感，更多是为了撑过去、别出事而硬撑。\",\r\n            category: \"work\"\r\n          }\r\n        ]\r\n      },\r\n\r\n      relationship: {\r\n        title: \"人际 / 家庭关系消耗\",\r\n        description: \"评估你在人际关系和家庭生活中的消耗程度\",\r\n        questions: [\r\n          {\r\n            id: \"B5\",\r\n            text: \"我会为了不让别人失望或生气，答应很多自己其实不太想做的事。\",\r\n            category: \"relationship\"\r\n          },\r\n          {\r\n            id: \"B6\",\r\n            text: \"和家人、伴侣、朋友相处时，我经常在意他们的情绪，生怕自己说错话或做错事。\",\r\n            category: \"relationship\"\r\n          },\r\n          {\r\n            id: \"B7\",\r\n            text: \"有时我会觉得自己像情绪垃圾桶，别人把负面情绪倾倒给我后，我还得自己消化。\",\r\n            category: \"relationship\"\r\n          },\r\n          {\r\n            id: \"B8\",\r\n            text: \"和身边的人相处后，比起轻松，我更容易感觉到被消耗、被掏空。\",\r\n            category: \"relationship\"\r\n          }\r\n        ]\r\n      },\r\n\r\n      selfDemand: {\r\n        title: \"自我要求 / 内心压力\",\r\n        description: \"评估你对自己的要求程度和内心压力\",\r\n        questions: [\r\n          {\r\n            id: \"B9\",\r\n            text: \"我对自己有很多应该做到的标准，一旦没做到就会强烈自责。\",\r\n            category: \"selfDemand\"\r\n          },\r\n          {\r\n            id: \"B10\",\r\n            text: \"当我稍微休息一下或偷个懒时，心里会冒出这样很没用、很浪费时间的声音。\",\r\n            category: \"selfDemand\"\r\n          },\r\n          {\r\n            id: \"B11\",\r\n            text: \"我很难接受自己状态不好或者表现一般，总觉得自己应该能再好一点。\",\r\n            category: \"selfDemand\"\r\n          },\r\n          {\r\n            id: \"B12\",\r\n            text: \"即使周围人已经觉得我做得够多了，我自己仍然觉得不够、不够、不够。\",\r\n            category: \"selfDemand\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n\r\n  C: {\r\n    title: \"疲惫来源类型\",\r\n    description: \"了解你疲惫的主要来源和类型特征\",\r\n    subtypes: {\r\n      emotional_overload: {\r\n        title: \"情绪过载型\",\r\n        description: \"高敏感、高共情，容易情绪过载\",\r\n        questions: [\r\n          {\r\n            id: \"C1\",\r\n            text: \"周围人的情绪变化（比如语气微妙变化、表情不对）很容易被我捕捉到，也会影响我一整天的心情。\",\r\n            category: \"emotional_overload\"\r\n          },\r\n          {\r\n            id: \"C2\",\r\n            text: \"别人遇到困难或心情不好时，我会下意识把他们的感受揽到自己身上，替对方着急、替对方难受。\",\r\n            category: \"emotional_overload\"\r\n          },\r\n          {\r\n            id: \"C3\",\r\n            text: \"即使事情已经过去了，我还是会反复回想当时的对话和细节，揣测自己有没有哪里做得不好。\",\r\n            category: \"emotional_overload\"\r\n          },\r\n          {\r\n            id: \"C4\",\r\n            text: \"面对冲突或不开心的场面时，我比一般人更容易紧张、心慌，很想赶紧把气氛修好。\",\r\n            category: \"emotional_overload\"\r\n          }\r\n        ]\r\n      },\r\n\r\n      responsibility_trap: {\r\n        title: \"责任绑架型\",\r\n        description: \"习惯扛责，难以说不\",\r\n        questions: [\r\n          {\r\n            id: \"C5\",\r\n            text: \"很多时候我会觉得：这件事如果我不管，就会出问题，于是明明很累也会硬着头皮上。\",\r\n            category: \"responsibility_trap\"\r\n          },\r\n          {\r\n            id: \"C6\",\r\n            text: \"当我拒绝别人、说不方便或不行时，会感到强烈的愧疚，好像自己是个自私的人。\",\r\n            category: \"responsibility_trap\"\r\n          },\r\n          {\r\n            id: \"C7\",\r\n            text: \"我经常接手别人本可以自己处理的事情，只因为不想麻烦对方或不想看他们手忙脚乱。\",\r\n            category: \"responsibility_trap\"\r\n          },\r\n          {\r\n            id: \"C8\",\r\n            text: \"我习惯在团队 / 家庭里扮演兜底的角色，出事先看我、收尾也找我。\",\r\n            category: \"responsibility_trap\"\r\n          }\r\n        ]\r\n      },\r\n\r\n      comparison_anxiety: {\r\n        title: \"对比焦虑型\",\r\n        description: \"易受比较刺激，容易对比焦虑\",\r\n        questions: [\r\n          {\r\n            id: \"C9\",\r\n            text: \"刷社交媒体或听到同龄人的近况时，我很容易不自觉地和他们比较，感觉自己落后了。\",\r\n            category: \"comparison_anxiety\"\r\n          },\r\n          {\r\n            id: \"C10\",\r\n            text: \"当别人分享自己的成绩、收入或生活时，我表面上很平静，内心却会暗暗给自己很大压力。\",\r\n            category: \"comparison_anxiety\"\r\n          },\r\n          {\r\n            id: \"C11\",\r\n            text: \"我常常会给自己设定一些这个年龄应该达到什么水平的目标，一旦没达到就很焦虑。\",\r\n            category: \"comparison_anxiety\"\r\n          },\r\n          {\r\n            id: \"C12\",\r\n            text: \"听到别人说谁谁做得很好、谁谁很厉害时，我会立刻联想到自己是不是不够好。\",\r\n            category: \"comparison_anxiety\"\r\n          }\r\n        ]\r\n      },\r\n\r\n      high_pressure_mode: {\r\n        title: \"高压稳定型\",\r\n        description: \"习惯高压运转，不敢轻易停下\",\r\n        questions: [\r\n          {\r\n            id: \"C13\",\r\n            text: \"我已经习惯在高强度、高节奏下工作 / 生活，一旦突然闲下来反而会不安。\",\r\n            category: \"high_pressure_mode\"\r\n          },\r\n          {\r\n            id: \"C14\",\r\n            text: \"遇到任务或问题时，我的第一反应通常是咬牙撑过去，而不是我能不能先调整一下自己。\",\r\n            category: \"high_pressure_mode\"\r\n          },\r\n          {\r\n            id: \"C15\",\r\n            text: \"即使身体已经出现一些疲惫信号（比如失眠、头痛、心悸等），我也会安慰自己再撑一阵就好了。\",\r\n            category: \"high_pressure_mode\"\r\n          },\r\n          {\r\n            id: \"C16\",\r\n            text: \"我很难向别人坦白自己累了、扛不住了，总觉得那样会显得自己不够坚强或不够专业。\",\r\n            category: \"high_pressure_mode\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n\r\n  D: {\r\n    title: \"心理韧性 / 抗压能力\",\r\n    description: \"评估我面对压力时的心理调节能力和自我修复资源\",\r\n    questions: [\r\n      {\r\n        id: \"D1\",\r\n        text: \"最近一段时间，我整体的睡眠质量还算可以，能在大部分夜晚获得相对完整的休息。\",\r\n        category: \"recovery\"\r\n      },\r\n      {\r\n            id: \"D2\",\r\n            text: \"我的生活里有一两个可以真正说心里话的人，和他们聊完会感觉轻松一些。\",\r\n            category: \"recovery\"\r\n          },\r\n          {\r\n            id: \"D3\",\r\n            text: \"我偶尔会给自己留出只属于自己、不需要对任何人负责的时间，用来放空或做喜欢的事情。\",\r\n            category: \"recovery\"\r\n          },\r\n          {\r\n            id: \"D4\",\r\n            text: \"当我意识到自己真的撑不住时，我有能力也敢于说我需要暂停一下 / 需要帮助。\",\r\n            category: \"recovery\"\r\n          }\r\n        ]\r\n      }\r\n};\r\n\r\n// 评分选项配置\r\nexport const SCALE_OPTIONS = [\r\n  { value: 1, label: \"完全不符合\", description: \"这种描述完全不符合我的情况\" },\r\n  { value: 2, label: \"偶尔这样\", description: \"这种描述只是偶尔符合我的情况\" },\r\n  { value: 3, label: \"一半一半\", description: \"这种描述有时符合我的情况\" },\r\n  { value: 4, label: \"经常如此\", description: \"这种描述经常符合我的情况\" },\r\n  { value: 5, label: \"非常符合\", description: \"这种描述非常符合我的情况\" }\r\n];\r\n\r\n// 获取所有题目ID的函数\r\nexport function getAllQuestionIds(): string[] {\r\n  const allIds: string[] = [];\r\n\r\n  // A模块题目\r\n  QUESTION_CONFIG.A.questions.forEach(q => allIds.push(q.id));\r\n\r\n  // B模块题目\r\n  Object.values(QUESTION_CONFIG.B.subcategories).forEach(subcategory => {\r\n    subcategory.questions.forEach(q => allIds.push(q.id));\r\n  });\r\n\r\n  // C模块题目\r\n  Object.values(QUESTION_CONFIG.C.subtypes).forEach(subtype => {\r\n    subtype.questions.forEach(q => allIds.push(q.id));\r\n  });\r\n\r\n  // D模块题目\r\n  QUESTION_CONFIG.D.questions.forEach(q => allIds.push(q.id));\r\n\r\n  return allIds;\r\n}\r\n\r\n// 获取题目总数的函数\r\nexport function getTotalQuestionCount(): number {\r\n  return getAllQuestionIds().length;\r\n}\r\n\r\n// 疲惫类型名称映射\r\nexport const FATIGUE_TYPE_NAMES = {\r\n  type_emotional_overload: \"情绪过载型\",\r\n  type_responsibility_trap: \"责任绑架型\",\r\n  type_comparison_anxiety: \"对比焦虑型\",\r\n  type_high_pressure_mode: \"高压稳定型\"\r\n};\r\n\r\n// 疲惫等级标签映射\r\nexport const FATIGUE_LEVEL_LABELS = {\r\n  0: \"0级 · 情绪稳定区（安全状态）\",\r\n  1: \"1级 · 轻度情绪疲劳（预警信号）\",\r\n  2: \"2级 · 中度情绪耗竭（需要调整）\",\r\n  3: \"3级 · 重度情绪透支（急需干预）\",\r\n  4: \"4级 · 极度情绪崩溃（危险状态）\"\r\n};\r\n\r\n// 心理韧性等级标签映射\r\nexport const RESILIENCE_LEVEL_LABELS = {\r\n  low: \"心理韧性不足 · 抗压能力较弱\",\r\n  medium: \"心理韧性中等 · 具备一定调节能力\",\r\n  high: \"心理韧性良好 · 抗压能力强\"\r\n};\r\n\r\n// 场景名称映射\r\nexport const SCENE_NAMES = {\r\n  work: \"工作/学习\",\r\n  relationship: \"人际/家庭\",\r\n  selfDemand: \"自我要求/内心压力\"\r\n};","import type {\n  UserAnswers,\n  FatigueResult,\n  FatigueType,\n  SceneScores,\n  RecoveryLevel,\n  FatigueLevel,\n  ReportProfile,\n  SceneIntensity\n} from '@/types';\nimport {\n  FATIGUE_TYPE_NAMES,\n  FATIGUE_LEVEL_LABELS,\n  RESILIENCE_LEVEL_LABELS\n} from '@/data/questions';\n\n/**\n * 疲惫度计算引擎\n * 根据用户答案计算疲惫等级、类型、场景分析和心理韧性评估\n */\nexport class FatigueCalculator {\n\n  /**\n   * 计算完整的疲惫评估结果\n   */\n  calculateFatigueResult(answers: UserAnswers): FatigueResult {\n    // 计算各个维度\n    const fatigueLevel = this.calculateFatigueLevel(answers);\n    const sceneScores = this.calculateSceneScores(answers);\n    const typeMatches = this.calculateTypeMatches(answers);\n    const recoveryLevel = this.calculateResilienceLevel(answers);\n\n    // 选择主类型和副类型\n    const primaryType = typeMatches[0];\n    const secondaryType = typeMatches[1] || typeMatches[0];\n\n    // 生成个性化标签\n    const personalTags = this.generatePersonalTags(\n      sceneScores,\n      primaryType,\n      recoveryLevel\n    );\n\n    // 创建报告画像\n    const reportProfile = this.createReportProfile(\n      fatigueLevel,\n      primaryType,\n      secondaryType,\n      sceneScores,\n      recoveryLevel,\n      personalTags\n    );\n\n    return {\n      fatigueLevel,\n      fatigueLabel: FATIGUE_LEVEL_LABELS[fatigueLevel],\n      sceneScores,\n      typeMatches,\n      primaryType,\n      secondaryType,\n      recoveryLevel,\n      recoveryLabel: RESILIENCE_LEVEL_LABELS[recoveryLevel],\n      personalTags,\n      reportProfile\n    };\n  }\n\n  /**\n   * 计算整体疲惫等级（模块A）\n   */\n  private calculateFatigueLevel(answers: UserAnswers): FatigueLevel {\n    const fatigueQuestions = ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8'];\n    const scores = fatigueQuestions.map(id => answers[id] || 3); // 默认值为3\n    const average = scores.reduce((sum, score) => sum + score, 0) / scores.length;\n\n    if (average < 2.0) return 0;      // 安全区\n    if (average < 3.0) return 1;      // 轻度疲惫\n    if (average < 3.5) return 2;      // 中度疲惫\n    if (average < 4.0) return 3;      // 高度疲惫\n    return 4;                         // 极度疲惫\n  }\n\n  /**\n   * 计算场景掉血情况（模块B）\n   */\n  private calculateSceneScores(answers: UserAnswers): SceneScores {\n    const workQuestions = ['B1', 'B2', 'B3', 'B4'];\n    const relationshipQuestions = ['B5', 'B6', 'B7', 'B8'];\n    const selfDemandQuestions = ['B9', 'B10', 'B11', 'B12'];\n\n    const workScore = this.calculateAverageScore(answers, workQuestions);\n    const relationshipScore = this.calculateAverageScore(answers, relationshipQuestions);\n    const selfDemandScore = this.calculateAverageScore(answers, selfDemandQuestions);\n\n    return {\n      work: workScore,\n      relationship: relationshipScore,\n      selfDemand: selfDemandScore\n    };\n  }\n\n  /**\n   * 计算疲惫来源类型匹配度（模块C）\n   */\n  private calculateTypeMatches(answers: UserAnswers): FatigueType[] {\n    const typeMapping = {\n      type_emotional_overload: ['C1', 'C2', 'C3', 'C4'],\n      type_responsibility_trap: ['C5', 'C6', 'C7', 'C8'],\n      type_comparison_anxiety: ['C9', 'C10', 'C11', 'C12'],\n      type_high_pressure_mode: ['C13', 'C14', 'C15', 'C16']\n    };\n\n    const typeMatches: FatigueType[] = Object.entries(typeMapping).map(([code, questions]) => {\n      const avgScore = this.calculateAverageScore(answers, questions);\n      const matchScore = Math.round((avgScore - 1) / 4 * 100); // 1-5映射到0-100\n\n      return {\n        code,\n        name: FATIGUE_TYPE_NAMES[code as keyof typeof FATIGUE_TYPE_NAMES],\n        matchScore,\n        avgScore\n      };\n    });\n\n    // 按匹配度从高到低排序\n    return typeMatches.sort((a, b) => b.matchScore - a.matchScore);\n  }\n\n  /**\n   * 计算心理韧性等级（模块D）\n   */\n  private calculateResilienceLevel(answers: UserAnswers): RecoveryLevel {\n    const resilienceQuestions = ['D1', 'D2', 'D3', 'D4'];\n    const average = this.calculateAverageScore(answers, resilienceQuestions);\n\n    if (average < 2.5) return 'low';\n    if (average < 3.8) return 'medium';\n    return 'high';\n  }\n\n  /**\n   * 生成个性化标签\n   */\n  private generatePersonalTags(\n    sceneScores: SceneScores,\n    primaryType: FatigueType,\n    recoveryLevel: RecoveryLevel\n  ): string[] {\n    const tags: string[] = [];\n\n    // 基于场景分数的标签\n    if (sceneScores.work >= 3.2) {\n      tags.push(\"工作/学习耗竭明显\");\n    }\n    if (sceneScores.relationship >= 3.2) {\n      tags.push(\"人际/家庭消耗明显\");\n    }\n    if (sceneScores.selfDemand >= 3.2) {\n      tags.push(\"自我要求偏高、容易苛责\");\n    }\n\n    // 基于类型的标签\n    if (primaryType.code === 'type_emotional_overload') {\n      tags.push(\"高敏感、高共情\");\n    } else if (primaryType.code === 'type_responsibility_trap') {\n      tags.push(\"习惯扛责、难以说不\");\n    } else if (primaryType.code === 'type_comparison_anxiety') {\n      tags.push(\"容易对比焦虑\");\n    } else if (primaryType.code === 'type_high_pressure_mode') {\n      tags.push(\"习惯高压运转\");\n    }\n\n    // 基于心理韧性的标签\n    if (recoveryLevel === 'low') {\n      tags.push(\"心理韧性不足、抗压能力较弱\");\n    } else if (recoveryLevel === 'medium') {\n      tags.push(\"心理韧性中等、需要加强调节\");\n    } else {\n      tags.push(\"心理韧性良好、具备自我修复能力\");\n    }\n\n    return tags;\n  }\n\n  /**\n   * 创建报告用户画像\n   */\n  private createReportProfile(\n    fatigueLevel: FatigueLevel,\n    primaryType: FatigueType,\n    secondaryType: FatigueType,\n    sceneScores: SceneScores,\n    recoveryLevel: RecoveryLevel,\n    personalTags: string[]\n  ): ReportProfile {\n    // 确定主要掉血场景\n    const sceneEntries = Object.entries(sceneScores) as [keyof SceneScores, number][];\n    sceneEntries.sort((a, b) => b[1] - a[1]); // 按分数从高到低排序\n    const dominantScenes = sceneEntries\n      .filter(([_, score]) => score >= 2.5) // 只选择分数较高的场景\n      .slice(0, 2) // 最多选择2个主要场景\n      .map(([scene]) => scene);\n\n    // 计算场景强度等级\n    const sceneIntensities = {\n      work: this.getSceneIntensity(sceneScores.work),\n      relationship: this.getSceneIntensity(sceneScores.relationship),\n      selfDemand: this.getSceneIntensity(sceneScores.selfDemand)\n    };\n\n    // 识别特殊组合模式\n    const specialPatterns = this.identifySpecialPatterns(\n      primaryType,\n      sceneScores,\n      recoveryLevel\n    );\n\n    // 选择关键标签（用于金句选择）\n    const keyTags = this.selectKeyTags(personalTags, primaryType.code);\n\n    return {\n      fatigueLevel,\n      primaryType: primaryType.code,\n      secondaryType: secondaryType.code,\n      recoveryLevel,\n      dominantScenes,\n      sceneIntensities,\n      specialPatterns,\n      keyTags\n    };\n  }\n\n  /**\n   * 获取场景强度等级\n   */\n  private getSceneIntensity(score: number): SceneIntensity {\n    if (score >= 3.5) return 'high';\n    if (score >= 2.5) return 'medium';\n    return 'low';\n  }\n\n  /**\n   * 识别特殊组合模式\n   */\n  private identifySpecialPatterns(\n    primaryType: FatigueType,\n    sceneScores: SceneScores,\n    recoveryLevel: RecoveryLevel\n  ): string[] {\n    const patterns: string[] = [];\n\n    // 责任绑架型 + 高工作压力\n    if (primaryType.code === 'type_responsibility_trap' && sceneScores.work >= 3.5) {\n      patterns.push('work扛责者');\n    }\n\n    // 情绪过载型 + 高人际压力\n    if (primaryType.code === 'type_emotional_overload' && sceneScores.relationship >= 3.5) {\n      patterns.push('情绪缓冲垫');\n    }\n\n    // 对比焦虑型 + 高自我要求\n    if (primaryType.code === 'type_comparison_anxiety' && sceneScores.selfDemand >= 3.5) {\n      patterns.push('自我驱动焦虑');\n    }\n\n    // 高压稳定型 + 低恢复力\n    if (primaryType.code === 'type_high_pressure_mode' && recoveryLevel === 'low') {\n      patterns.push('透支稳定');\n    }\n\n    return patterns;\n  }\n\n  /**\n   * 选择关键标签\n   */\n  private selectKeyTags(personalTags: string[], primaryTypeCode: string): string[] {\n    // 先基于类型选择基础标签\n    const typeTagMap = {\n      type_emotional_overload: ['sensitivity', 'emotional_boundary'],\n      type_responsibility_trap: ['responsibility', 'boundary_setting'],\n      type_comparison_anxiety: ['comparison', 'self_acceptance'],\n      type_high_pressure_mode: ['pressure', 'rest_permission']\n    };\n\n    const keyTags: string[] = typeTagMap[primaryTypeCode as keyof typeof typeTagMap] || [];\n\n    // 再从个性化标签中选择一些关键词\n    personalTags.forEach(tag => {\n      if (tag.includes('工作')) keyTags.push('work_stress');\n      if (tag.includes('人际') || tag.includes('家庭')) keyTags.push('relationship_burnout');\n      if (tag.includes('自我要求')) keyTags.push('self_criticism');\n      if (tag.includes('恢复力')) keyTags.push('recovery');\n    });\n\n    // 去重并限制数量\n    return [...new Set(keyTags)].slice(0, 4);\n  }\n\n  /**\n   * 计算平均分（工具方法）\n   */\n  private calculateAverageScore(answers: UserAnswers, questionIds: string[]): number {\n    if (questionIds.length === 0) return 0;\n    const scores = questionIds.map(id => answers[id] || 3); // 默认值为3\n    const validScores = scores.filter(score => !isNaN(score) && score !== null && score !== undefined);\n    if (validScores.length === 0) return 0;\n    return validScores.reduce((sum, score) => sum + score, 0) / validScores.length;\n  }\n}\n\n// 创建计算器实例\nexport const fatigueCalculator = new FatigueCalculator();\n\n/**\n * 便捷函数：计算疲惫评估结果\n */\nexport function calculateFatigueResult(answers: UserAnswers): FatigueResult {\n  return fatigueCalculator.calculateFatigueResult(answers);\n}","import { defineStore } from 'pinia';\nimport type { AppState } from '@/types';\nimport { calculateFatigueResult } from '@/utils/calculator';\nimport { getAllQuestionIds, getTotalQuestionCount } from '@/data/questions';\n\nexport const useFatigueTestStore = defineStore('fatigueTest', {\n  state: (): AppState & {\n    startTime: number | null;\n    endTime: number | null;\n    detailedReport: string | null;\n  } => ({\n    currentStep: 'introduction',\n    answers: {} as Record<string, number>,\n    result: null,\n    isCalculating: false,\n    currentQuestionIndex: 0,\n    startTime: null,\n    endTime: null,\n    detailedReport: null\n  }),\n\n  getters: {\n    /**\n     * 获取当前进度\n     */\n    progress: (state): number => {\n      const totalQuestions = getTotalQuestionCount();\n      const answeredQuestions = Object.keys(state.answers).length;\n      return Math.round((answeredQuestions / totalQuestions) * 100);\n    },\n\n    /**\n     * 获取已完成题目数\n     */\n    answeredCount: (state): number => {\n      return Object.keys(state.answers).length;\n    },\n\n    /**\n     * 获取总题目数\n     */\n    totalQuestions: (): number => {\n      return getTotalQuestionCount();\n    },\n\n    /**\n     * 检查是否可以提交（所有题目都已回答）\n     */\n    canSubmit: (state): boolean => {\n      const allQuestionIds = getAllQuestionIds();\n      return allQuestionIds.every(id => state.answers[id] !== undefined);\n    },\n\n    /**\n     * 获取测试用时（秒）\n     */\n    duration: (state): number | null => {\n      if (!state.startTime) return null;\n      const endTime = state.endTime || Date.now();\n      return Math.round((endTime - state.startTime) / 1000);\n    }\n  },\n\n  actions: {\n    /**\n     * 保存用户答案\n     */\n    saveAnswer(questionId: string, score: number) {\n      this.answers[questionId] = score;\n\n      // 保存到localStorage（可选）\n      try {\n        localStorage.setItem('fbi_answers', JSON.stringify(this.answers));\n      } catch (error) {\n        console.warn('无法保存答案到本地存储:', error);\n      }\n    },\n\n    /**\n     * 开始测试\n     */\n    startTest() {\n      this.currentStep = 'questionnaire';\n      this.startTime = Date.now();\n      this.currentQuestionIndex = 0;\n\n      // 清空之前的答案\n      this.answers = {};\n      this.result = null;\n      this.isCalculating = false;\n\n      // 清除本地存储的答案\n      try {\n        localStorage.removeItem('fbi_answers');\n      } catch (error) {\n        console.warn('无法清除本地存储:', error);\n      }\n    },\n\n    /**\n     * 进入结果页面\n     */\n    goToResults() {\n      this.currentStep = 'results';\n    },\n\n    /**\n     * 返回介绍页面\n     */\n    restart() {\n      this.currentStep = 'introduction';\n      this.answers = {};\n      this.result = null;\n      this.isCalculating = false;\n      this.currentQuestionIndex = 0;\n      this.startTime = null;\n      this.endTime = null;\n      this.detailedReport = null;\n\n      // 清除本地存储\n      try {\n        localStorage.removeItem('fbi_answers');\n      } catch (error) {\n        console.warn('无法清除本地存储:', error);\n      }\n    },\n\n    /**\n     * 设置详细报告内容\n     */\n    setDetailedReport(content: string) {\n      this.detailedReport = content;\n    },\n\n    /**\n     * 计算测评结果\n     */\n    async calculateResults() {\n      if (!this.canSubmit) {\n        throw new Error('还有题目未完成');\n      }\n\n      this.isCalculating = true;\n\n      try {\n        // 模拟计算延迟，让用户看到加载状态\n        await new Promise(resolve => setTimeout(resolve, 1500));\n\n        // 计算结果\n        this.result = calculateFatigueResult(this.answers);\n        this.endTime = Date.now();\n\n        // 进入结果页面\n        this.goToResults();\n\n      } catch (error) {\n        console.error('计算结果失败:', error);\n        throw error;\n      } finally {\n        this.isCalculating = false;\n      }\n    },\n\n    /**\n     * 从本地存储恢复答案\n     */\n    restoreAnswers() {\n      try {\n        const saved = localStorage.getItem('fbi_answers');\n        if (saved) {\n          const savedAnswers = JSON.parse(saved);\n          this.answers = savedAnswers;\n        }\n      } catch (error) {\n        console.warn('无法恢复本地存储的答案:', error);\n      }\n    },\n\n    /**\n     * 导出答案数据（用于分析或备份）\n     */\n    exportAnswers(): string {\n      const exportData = {\n        answers: this.answers,\n        timestamp: new Date().toISOString(),\n        duration: this.duration,\n        version: '1.0.0'\n      };\n      return JSON.stringify(exportData, null, 2);\n    },\n\n    /**\n     * 获取特定模块的完成情况\n     */\n    getModuleProgress(module: string): {\n      completed: number;\n      total: number;\n      percentage: number;\n    } {\n      const moduleQuestions: Record<string, string[]> = {\n        'A': ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8'],\n        'B': ['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10', 'B11', 'B12'],\n        'C': ['C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8', 'C9', 'C10', 'C11', 'C12', 'C13', 'C14', 'C15', 'C16'],\n        'D': ['D1', 'D2', 'D3', 'D4']\n      };\n\n      const questions = moduleQuestions[module] || [];\n      const completed = questions.filter(id => this.answers[id] !== undefined).length;\n      const total = questions.length;\n      const percentage = Math.round((completed / total) * 100);\n\n      return { completed, total, percentage };\n    },\n\n    /**\n     * 跳转到指定题目\n     */\n    goToQuestion(index: number) {\n      const totalQuestions = getTotalQuestionCount();\n      if (index >= 0 && index < totalQuestions) {\n        this.currentQuestionIndex = index;\n      }\n    },\n\n    /**\n     * 下一题\n     */\n    nextQuestion() {\n      const totalQuestions = getTotalQuestionCount();\n      if (this.currentQuestionIndex < totalQuestions - 1) {\n        this.currentQuestionIndex++;\n      }\n    },\n\n    /**\n     * 上一题\n     */\n    previousQuestion() {\n      if (this.currentQuestionIndex > 0) {\n        this.currentQuestionIndex--;\n      }\n    },\n\n    /**\n     * 验证当前答案的完整性\n     */\n    validateAnswers(): {\n      isValid: boolean;\n      missingQuestions: string[];\n      warnings: string[];\n    } {\n      const allQuestionIds = getAllQuestionIds();\n      const missingQuestions = allQuestionIds.filter(id => this.answers[id] === undefined);\n      const warnings: string[] = [];\n\n      // 检查是否有极端答案（所有题目都选同一个选项）\n      const answerValues = Object.values(this.answers);\n      if (answerValues.length > 0) {\n        const uniqueValues = new Set(answerValues);\n        if (uniqueValues.size === 1) {\n          warnings.push('所有题目都选择了相同的选项，建议重新审视每个题目');\n        }\n      }\n\n      // 检查模块完成情况\n      const moduleProgress = {\n        A: this.getModuleProgress('A'),\n        B: this.getModuleProgress('B'),\n        C: this.getModuleProgress('C'),\n        D: this.getModuleProgress('D')\n      };\n\n      Object.entries(moduleProgress).forEach(([module, progress]) => {\n        if (progress.completed < progress.total) {\n          warnings.push(`${module}模块还有${progress.total - progress.completed}道题目未完成`);\n        }\n      });\n\n      return {\n        isValid: missingQuestions.length === 0,\n        missingQuestions,\n        warnings\n      };\n    }\n  }\n});","<template>\n  <div class=\"min-h-screen flex items-center justify-center px-4 py-12\">\n    <div class=\"max-w-3xl w-full\">\n      <!-- 主卡片 -->\n      <div class=\"card p-8 md:p-12 animate-fade-in\">\n        <!-- 标题部分 -->\n        <div class=\"text-center mb-8\">\n          <h1 class=\"text-2xl md:text-3xl font-bold text-gray-900 mb-4\">\n            情绪疲惫度测试\n          </h1>\n          <div class=\"w-16 h-1 bg-primary-500 mx-auto rounded-full mb-4\"></div>\n          <p class=\"text-lg text-gray-600 text-balance leading-relaxed\">\n            用 3–5 分钟，看看你现在到底有多\"累\"\n          </p>\n        </div>\n\n        <!-- 介绍内容 -->\n        <div class=\"space-y-6 mb-8\">\n          <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-8\">\n            <h2 class=\"text-lg font-semibold text-blue-900 mb-3\">\n              🎯 测试说明\n            </h2>\n            <ul class=\"space-y-2 text-base text-blue-800\">\n              <li class=\"flex items-start\">\n                <span class=\"text-blue-500 mr-3\">•</span>\n                <span>这是一个<strong>自我觉察工具</strong>，帮助您了解当前的情绪状态</span>\n              </li>\n              <li class=\"flex items-start\">\n                <span class=\"text-blue-500 mr-3\">•</span>\n                <span>测试包含<strong>40道题目</strong>，预计用时3-5分钟</span>\n              </li>\n              <li class=\"flex items-start\">\n                <span class=\"text-blue-500 mr-3\">•</span>\n                <span><strong>非医疗诊断</strong>，仅为个人参考和自我探索</span>\n              </li>\n              <li class=\"flex items-start\">\n                <span class=\"text-blue-500 mr-3\">•</span>\n                <span>请根据<strong>最近一段时间</strong>的真实感受回答</span>\n              </li>\n              <li class=\"flex items-start\">\n                <span class=\"text-blue-500 mr-3\">•</span>\n                <span>本量表参考情绪耗竭（Emotional Exhaustion）、职业倦怠（Burnout）及主观疲劳相关研究思路编制</span>\n              </li>\n            </ul>\n          </div>\n\n          <div class=\"bg-green-50 border border-green-200 rounded-lg p-8\">\n            <h2 class=\"text-lg font-semibold text-green-900 mb-3\">\n              ✨ 您将获得\n            </h2>\n            <div class=\"grid md:grid-cols-2 gap-4 text-base text-green-800\">\n              <div class=\"flex items-start\">\n                <span class=\"text-green-500 mr-3 text-xl\">📊</span>\n                <div>\n                  <strong class=\"font-semibold\">疲惫等级评估</strong>\n                  <p class=\"text-sm mt-1\">了解您的情绪疲惫程度（0-4级）</p>\n                </div>\n              </div>\n              <div class=\"flex items-start\">\n                <span class=\"text-green-500 mr-3 text-xl\">🎯</span>\n                <div>\n                  <strong class=\"font-semibold\">疲惫来源分析</strong>\n                  <p class=\"text-sm mt-1\">识别主要的疲惫类型和原因</p>\n                </div>\n              </div>\n              <div class=\"flex items-start\">\n                <span class=\"text-green-500 mr-3 text-xl\">🗺️</span>\n                <div>\n                  <strong class=\"font-semibold\">场景掉血地图</strong>\n                  <p class=\"text-sm mt-1\">发现哪些场景最消耗您</p>\n                </div>\n              </div>\n              <div class=\"flex items-start\">\n                <span class=\"text-green-500 mr-3 text-xl\">🔋</span>\n                <div>\n                  <strong class=\"font-semibold\">心理韧性评估</strong>\n                  <p class=\"text-sm mt-1\">评估您的心理调节能力和抗压能力</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-orange-50 border border-orange-200 rounded-lg p-8\">\n            <h2 class=\"text-lg font-semibold text-orange-900 mb-3\">\n              📝 个性化报告\n            </h2>\n            <p class=\"text-base text-orange-800 leading-relaxed\">\n              完成测试后，您将获得一份<strong>高度个性化</strong>的分析报告，\n              包含详细的类型解读、场景分析、心理韧性评估，以及<strong>针对性的行动建议</strong>。\n            </p>\n          </div>\n        </div>\n\n        <!-- 开始按钮 -->\n        <div class=\"text-center\">\n          <button\n            @click=\"startTest\"\n            :disabled=\"isLoading\"\n            class=\"btn btn-primary text-xl px-12 py-6 inline-flex items-center gap-4 min-h-[72px] text-lg\"\n          >\n            <span v-if=\"!isLoading\">开始测试</span>\n            <span v-else class=\"loading-dots\">准备中</span>\n            <svg\n              v-if=\"!isLoading\"\n              class=\"w-6 h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M13 7l5 5m0 0l-5 5m5-5H6\"\n              />\n            </svg>\n          </button>\n          <p class=\"text-base text-gray-500 mt-6\">\n            测试完全匿名，您的答案仅在本地处理\n          </p>\n        </div>\n      </div>\n\n      <!-- 底部信息 -->\n      <div class=\"text-center mt-12\">\n        <p class=\"text-lg text-gray-500\">\n          适用于：长期处于压力环境的职场人、自由职业者、学生等\n        </p>\n        <p class=\"mt-3 text-lg text-gray-500\">\n          特别适合：自我评价为\"很累、心累、提不起劲\"的人群\n        </p>\n        <div class=\"mt-6 max-w-5xl mx-auto\">\n          <div class=\"card p-6 bg-amber-50 border-amber-200\">\n            <p class=\"text-amber-700 text-base leading-relaxed\">\n              <strong>重要声明：</strong>本量表用于日常自我觉察，不作为医疗或心理诊断依据。如需专业帮助，请咨询合格的心理健康专业人士。\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useFatigueTestStore } from '@/stores/fatigueTest'\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst fatigueTestStore = useFatigueTestStore()\nconst router = useRouter()\nconst isLoading = ref(false)\n\nconst startTest = async () => {\n  isLoading.value = true\n\n  try {\n    // 模拟准备时间\n    await new Promise(resolve => setTimeout(resolve, 500))\n\n    // 开始测试\n    fatigueTestStore.startTest()\n\n    // 跳转到答题页面\n    router.push('/questionnaire')\n  } catch (error) {\n    console.error('启动测试失败:', error)\n    // 可以显示错误提示\n  } finally {\n    isLoading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.animate-fade-in {\n  animation: fadeIn 0.6s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>","<template>\n  <div class=\"w-full\">\n    <!-- 进度信息 -->\n    <div class=\"flex justify-between items-center mb-3\">\n      <span class=\"text-sm font-medium text-gray-700\">\n        进度\n      </span>\n      <span class=\"text-sm text-gray-500\">\n        {{ answeredCount }} / {{ totalQuestions }} 题\n      </span>\n    </div>\n\n    <!-- 进度条 -->\n    <div class=\"progress-bar\">\n      <div\n        class=\"progress-fill bg-gradient-to-r from-blue-500 to-blue-600\"\n        :style=\"{ width: `${percentage}%` }\"\n      ></div>\n    </div>\n\n    <!-- 百分比显示 -->\n    <div class=\"flex justify-between items-center mt-3\">\n      <span class=\"text-xs text-gray-500\">\n        完成度: {{ percentage }}%\n      </span>\n      <div v-if=\"showEta && estimatedTimeRemaining\" class=\"text-xs text-gray-500\">\n        预计剩余: {{ estimatedTimeRemaining }}分钟\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\ninterface Props {\n  answeredCount: number\n  totalQuestions: number\n  showEta?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  showEta: true\n})\n\n// 计算百分比\nconst percentage = computed(() => {\n  return Math.round((props.answeredCount / props.totalQuestions) * 100)\n})\n\n// 估算剩余时间（假设每题30秒）\nconst estimatedTimeRemaining = computed(() => {\n  const remainingQuestions = props.totalQuestions - props.answeredCount\n  const estimatedMinutes = Math.ceil((remainingQuestions * 0.5) / 60)\n  return estimatedMinutes > 0 ? estimatedMinutes : null\n})\n</script>\n\n<style scoped>\n.progress-bar {\n  height: 8px;\n}\n\n.progress-fill {\n  min-width: 2px; /* 确保即使0%也有一点可见的进度 */\n  border-radius: 4px;\n}\n\n/* 进度条动画 */\n.progress-fill {\n  transition: width 0.3s ease-out;\n}\n</style>","<template>\n  <div class=\"question-card\">\n    <!-- 题目编号和类型标签 -->\n    <div class=\"flex items-center justify-between mb-1\">\n      <span class=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700\">\n        题目 {{ questionNumber }}\n      </span>\n      <span\n        v-if=\"categoryLabel\"\n        class=\"type-badge secondary text-xs\"\n      >\n        {{ categoryLabel }}\n      </span>\n    </div>\n\n    <!-- 题目内容 -->\n    <div class=\"mb-3\">\n      <h3 class=\"text-base font-semibold text-gray-900 leading-tight\">\n        {{ question.text }}\n      </h3>\n    </div>\n\n    <!-- 评分选项 -->\n    <div class=\"space-y-1\">\n      <div\n        v-for=\"option in scaleOptions\"\n        :key=\"option.value\"\n        class=\"flex items-center gap-3\"\n      >\n        <!-- 评分按钮 -->\n        <button\n          @click=\"selectScore(option.value)\"\n          @keyup.enter=\"selectScore(option.value)\"\n          :class=\"[\n            'scale-btn',\n            selectedScore === option.value ? 'selected' : '',\n            focusedOption === option.value ? 'ring-2 ring-primary-500 ring-offset-2' : ''\n          ]\"\n          :aria-label=\"`选择${option.label}：${option.description}`\"\n          :aria-pressed=\"selectedScore === option.value\"\n          @focus=\"focusedOption = option.value\"\n          @blur=\"focusedOption = null\"\n        >\n          {{ option.value }}\n        </button>\n\n        <!-- 选项说明 -->\n        <label\n          :for=\"`question-${question.id}-${option.value}`\"\n          class=\"flex-1 cursor-pointer select-none\"\n          @click=\"selectScore(option.value)\"\n        >\n          <div class=\"flex items-center\">\n            <span class=\"font-semibold text-gray-900 mr-1 text-sm\">\n              {{ option.label }}\n            </span>\n            <span class=\"text-gray-600 text-xs\">\n              {{ option.description }}\n            </span>\n          </div>\n        </label>\n\n        <!-- 隐藏的radio输入框（用于可访问性） -->\n        <input\n          :id=\"`question-${question.id}-${option.value}`\"\n          type=\"radio\"\n          :name=\"`question-${question.id}`\"\n          :value=\"option.value\"\n          :checked=\"selectedScore === option.value\"\n          class=\"sr-only\"\n          @change=\"selectScore(option.value)\"\n        >\n      </div>\n    </div>\n\n    <!-- 题目说明（可选） -->\n    <div\n      v-if=\"showHelper && selectedScore\"\n      class=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\"\n    >\n      <p class=\"text-base text-blue-800\">\n        💡 您选择了\"{{ scaleOptions.find(opt => opt.value === selectedScore)?.label }}\"\n      </p>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport type { Question } from '@/types'\nimport { SCALE_OPTIONS } from '@/data/questions'\n\ninterface Props {\n  question: Question\n  questionNumber: number\n  modelValue?: number\n  categoryLabel?: string\n  showHelper?: boolean\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  showHelper: false\n})\n\nconst emit = defineEmits<{\n  'update:modelValue': [value: number]\n  'answer-selected': [questionId: string, score: number]\n  'auto-next': []\n}>()\n\nconst selectedScore = computed({\n  get: () => props.modelValue,\n  set: (value) => {\n    if (value !== undefined) {\n      emit('update:modelValue', value)\n    }\n  }\n})\n\nconst focusedOption = ref<number | null>(null)\n\nconst scaleOptions = computed(() => SCALE_OPTIONS)\n\nconst selectScore = (score: number) => {\n  selectedScore.value = score\n  emit('answer-selected', props.question.id, score)\n\n  // 添加触觉反馈（如果支持）\n  if (navigator.vibrate) {\n    navigator.vibrate(50) // 50ms的震动\n  }\n\n  // 触发自动跳转到下一题的事件\n  setTimeout(() => {\n    emit('auto-next')\n  }, 300) // 300ms延迟，让用户看到选中效果\n}\n</script>\n\n<style scoped>\n/* 增强可访问性的焦点样式 */\n.scale-btn:focus {\n  outline: none;\n}\n\n.scale-btn:focus-visible {\n  @apply ring-2 ring-primary-500 ring-offset-2;\n}\n\n/* 选中状态的视觉反馈 */\n.scale-btn.selected {\n  transform: scale(1.05);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);\n}\n\n/* 悬停效果 */\n.scale-btn:not(.selected):hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* 禁用状态（如果需要） */\n.scale-btn:disabled {\n  @apply opacity-50 cursor-not-allowed;\n}\n\n.scale-btn:disabled:hover {\n  transform: none;\n  box-shadow: none;\n}\n</style>","<template>\n  <div class=\"flex items-center justify-between p-3 bg-white border-t border-gray-200\">\n    <!-- 左侧：上一题按钮 -->\n    <div class=\"flex items-center gap-4\">\n      <button\n        @click=\"goPrevious\"\n        :disabled=\"!hasPrevious\"\n        class=\"btn btn-secondary flex items-center gap-2\"\n        :class=\"{ 'opacity-50 cursor-not-allowed': !hasPrevious }\"\n      >\n        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n        </svg>\n        上一题\n      </button>\n\n      <!-- 题目编号指示器 -->\n      <div class=\"hidden sm:flex items-center gap-2 text-sm text-gray-600\">\n        <span>{{ currentIndex + 1 }}</span>\n        <span class=\"text-gray-400\">/</span>\n        <span>{{ totalQuestions }}</span>\n      </div>\n    </div>\n\n    <!-- 中间：题目导航点 -->\n    <div class=\"flex items-center gap-2 overflow-x-auto py-2 px-4 max-w-md\">\n      <button\n        v-for=\"(q, index) in questions\"\n        :key=\"q.id\"\n        @click=\"goToQuestion(index)\"\n        :class=\"[\n          'w-4 h-4 rounded-full flex-shrink-0 transition-all duration-200',\n          index === currentIndex ? 'bg-primary-600 scale-125' :\n          answers[q.id] !== undefined ? 'bg-green-500' :\n          'bg-gray-300 hover:bg-gray-400'\n        ]\"\n        :title=\"`题目 ${index + 1}${answers[q.id] !== undefined ? ' (已完成)' : ' (未完成)'}`\"\n        :aria-label=\"`跳转到题目 ${index + 1}`\"\n      />\n    </div>\n\n    <!-- 右侧：下一题/提交按钮 -->\n    <div class=\"flex items-center gap-4\">\n      <!-- 模块进度提示 -->\n      <div v-if=\"currentModuleProgress\" class=\"hidden lg:block text-base text-gray-600\">\n        <span>{{ currentModuleProgress.name }}: </span>\n        <span class=\"font-medium\">{{ currentModuleProgress.completed }}/{{ currentModuleProgress.total }}</span>\n      </div>\n\n      <button\n        v-if=\"hasNext\"\n        @click=\"goNext\"\n        :disabled=\"!canGoNext\"\n        class=\"btn btn-primary flex items-center gap-2\"\n        :class=\"{ 'opacity-50 cursor-not-allowed': !canGoNext }\"\n      >\n        下一题\n        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n        </svg>\n      </button>\n\n      <button\n        v-else\n        @click=\"submit\"\n        :disabled=\"!canSubmit\"\n        class=\"btn btn-primary flex items-center gap-2\"\n        :class=\"{ 'opacity-50 cursor-not-allowed': !canSubmit }\"\n      >\n        <span>提交测试</span>\n        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n        </svg>\n      </button>\n    </div>\n  </div>\n\n  <!-- 移动端下拉式题目导航 -->\n  <div class=\"sm:hidden border-t border-gray-200 p-4\">\n    <div class=\"flex items-center justify-between mb-3\">\n      <span class=\"text-base text-gray-600\">快速跳转</span>\n      <button\n        @click=\"showMobileNav = !showMobileNav\"\n        class=\"text-primary-600 text-base flex items-center gap-1\"\n      >\n        {{ currentIndex + 1 }} / {{ totalQuestions }}\n        <svg class=\"w-4 h-4\" :class=\"{ 'rotate-180': showMobileNav }\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n    </div>\n\n    <!-- 移动端导航网格 -->\n    <div\n      v-if=\"showMobileNav\"\n      class=\"grid grid-cols-8 gap-2 p-4 bg-gray-50 rounded-lg\"\n    >\n      <button\n        v-for=\"(q, index) in questions\"\n        :key=\"q.id\"\n        @click=\"goToQuestionMobile(index)\"\n        :class=\"[\n          'w-10 h-10 rounded-full text-sm font-medium flex items-center justify-center',\n          index === currentIndex ? 'bg-primary-600 text-white' :\n          answers[q.id] !== undefined ? 'bg-green-500 text-white' :\n          'bg-white border border-gray-300 text-gray-600'\n        ]\"\n      >\n        {{ index + 1 }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport type { Question } from '@/types'\nimport { useFatigueTestStore } from '@/stores/fatigueTest'\nimport { QUESTION_CONFIG } from '@/data/questions'\n\ninterface Props {\n  questions: Question[]\n  currentIndex: number\n  answers: Record<string, number>\n}\n\nconst props = defineProps<Props>()\n\nconst emit = defineEmits<{\n  'go-to-question': [index: number]\n  'go-previous': []\n  'go-next': []\n  'submit': []\n}>()\n\nconst fatigueTestStore = useFatigueTestStore()\nconst showMobileNav = ref(false)\n\n// 计算属性\nconst hasPrevious = computed(() => props.currentIndex > 0)\nconst hasNext = computed(() => props.currentIndex < props.questions.length - 1)\n\nconst canGoNext = computed(() => {\n  const currentQuestion = props.questions[props.currentIndex]\n  return props.answers[currentQuestion.id] !== undefined\n})\n\nconst canSubmit = computed(() => {\n  return fatigueTestStore.canSubmit\n})\n\nconst totalQuestions = computed(() => props.questions.length)\n\n// 当前模块进度\nconst currentModuleProgress = computed(() => {\n  const currentQuestion = props.questions[props.currentIndex]\n  const questionId = currentQuestion.id\n\n  let moduleName = ''\n  let moduleQuestions: string[] = []\n\n  // 根据题目ID判断所属模块\n  if (questionId.startsWith('A')) {\n    moduleName = '整体疲惫强度'\n    moduleQuestions = QUESTION_CONFIG.A.questions.map(q => q.id)\n  } else if (questionId.startsWith('B')) {\n    if (['B1', 'B2', 'B3', 'B4'].includes(questionId)) {\n      moduleName = '工作/学习'\n      moduleQuestions = QUESTION_CONFIG.B.subcategories.work.questions.map(q => q.id)\n    } else if (['B5', 'B6', 'B7', 'B8'].includes(questionId)) {\n      moduleName = '人际/家庭'\n      moduleQuestions = QUESTION_CONFIG.B.subcategories.relationship.questions.map(q => q.id)\n    } else {\n      moduleName = '自我要求'\n      moduleQuestions = QUESTION_CONFIG.B.subcategories.selfDemand.questions.map(q => q.id)\n    }\n  } else if (questionId.startsWith('C')) {\n    moduleName = '疲惫来源类型'\n    moduleQuestions = ['C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8', 'C9', 'C10', 'C11', 'C12', 'C13', 'C14', 'C15', 'C16']\n  } else if (questionId.startsWith('D')) {\n    moduleName = '恢复资源'\n    moduleQuestions = QUESTION_CONFIG.D.questions.map(q => q.id)\n  }\n\n  const completed = moduleQuestions.filter(id => props.answers[id] !== undefined).length\n\n  return {\n    name: moduleName,\n    completed,\n    total: moduleQuestions.length\n  }\n})\n\n// 方法\nconst goPrevious = () => {\n  if (hasPrevious.value) {\n    emit('go-previous')\n  }\n}\n\nconst goNext = () => {\n  if (hasNext.value && canGoNext.value) {\n    emit('go-next')\n  }\n}\n\nconst goToQuestion = (index: number) => {\n  showMobileNav.value = false\n  emit('go-to-question', index)\n}\n\nconst goToQuestionMobile = (index: number) => {\n  showMobileNav.value = false\n  emit('go-to-question', index)\n}\n\nconst submit = () => {\n  if (canSubmit.value) {\n    emit('submit')\n  }\n}\n</script>\n\n<style scoped>\n/* 题目导航点动画 */\n.scale-125 {\n  transform: scale(1.25);\n}\n\n/* 移动端下拉动画 */\n.rotate-180 {\n  transform: rotate(180deg);\n}\n</style>","<template>\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n    <!-- 顶部进度条和标题 -->\n    <div class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-2xl mx-auto px-4 py-4\">\n        <div class=\"flex items-center justify-between\">\n          <div>\n            <h1 class=\"text-lg font-bold text-gray-900\">情绪疲惫度测试</h1>\n            <p class=\"text-xs text-gray-600 mt-1\">请根据您最近的真实感受回答</p>\n          </div>\n          <div class=\"text-right\">\n            <div class=\"text-lg font-bold text-primary-600\">{{ fatigueTestStore.progress }}%</div>\n            <div class=\"text-xs text-gray-500\">完成度</div>\n          </div>\n        </div>\n\n        <!-- 进度条 -->\n        <div class=\"mt-3\">\n          <ProgressBar\n            :answered-count=\"fatigueTestStore.answeredCount\"\n            :total-questions=\"fatigueTestStore.totalQuestions\"\n            :show-eta=\"true\"\n          />\n        </div>\n\n        <!-- 量表说明 -->\n        <div class=\"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg\">\n          <p class=\"text-amber-700 text-xs leading-relaxed\">\n            <strong>量表说明：</strong>本量表参考情绪耗竭（Emotional Exhaustion）、职业倦怠（Burnout）及主观疲劳相关研究思路编制，用于日常自我觉察，不作为医疗或心理诊断依据。\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- 题目内容区域 -->\n    <div class=\"max-w-2xl mx-auto px-4 py-4\">\n      <!-- 模块标题 -->\n      <div\n        v-if=\"currentModuleInfo\"\n        class=\"text-center mb-4 animate-fade-in\"\n      >\n        <h2 class=\"text-base font-semibold text-gray-900 mb-1\">\n          {{ currentModuleInfo.title }}\n        </h2>\n        <p class=\"text-gray-600 text-xs\">{{ currentModuleInfo.description }}</p>\n      </div>\n\n      <!-- 当前题目 -->\n      <div class=\"max-w-2xl mx-auto\">\n        <transition name=\"question-slide\" mode=\"out-in\">\n          <QuestionItem\n            v-if=\"currentQuestion\"\n            :key=\"currentQuestion.id\"\n            :question=\"currentQuestion\"\n            :question-number=\"fatigueTestStore.currentQuestionIndex + 1\"\n            :category-label=\"getCategoryLabel(currentQuestion)\"\n            :model-value=\"fatigueTestStore.answers[currentQuestion.id]\"\n            @update:model-value=\"saveAnswer\"\n            @answer-selected=\"onAnswerSelected\"\n            @auto-next=\"handleAutoNext\"\n          />\n\n          <!-- 未找到题目时的提示 -->\n          <div v-else class=\"card p-12 text-center\">\n            <div class=\"text-gray-500 text-lg\">题目加载中...</div>\n          </div>\n        </transition>\n      </div>\n    </div>\n\n    <!-- 底部导航 -->\n    <div class=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg\">\n      <QuestionNavigation\n        :questions=\"allQuestions\"\n        :current-index=\"fatigueTestStore.currentQuestionIndex\"\n        :answers=\"fatigueTestStore.answers\"\n        @go-to-question=\"goToQuestion\"\n        @go-previous=\"goPrevious\"\n        @go-next=\"goNext\"\n        @submit=\"submitTest\"\n      />\n    </div>\n\n    <!-- 为底部导航留出空间 -->\n    <div class=\"h-20\"></div>\n\n    <!-- 提交确认对话框 -->\n    <div\n      v-if=\"showSubmitDialog\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\n      @click.self=\"showSubmitDialog = false\"\n    >\n      <div class=\"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-slide-up\">\n        <h3 class=\"text-xl font-bold text-gray-900 mb-4\">确认提交测试</h3>\n\n        <!-- 完成情况检查 -->\n        <div class=\"mb-6\">\n          <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-blue-900 mb-2\">测试完成情况</h4>\n            <div class=\"space-y-2 text-sm text-blue-800\">\n              <div class=\"flex justify-between\">\n                <span>整体进度:</span>\n                <span class=\"font-medium\">{{ fatigueTestStore.answeredCount }} / {{ fatigueTestStore.totalQuestions }} 题</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span>预计用时:</span>\n                <span class=\"font-medium\">{{ Math.round((fatigueTestStore.duration || 0) / 60) }} 分钟</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- 警告信息 -->\n          <div v-if=\"validation.warnings.length > 0\" class=\"mt-4\">\n            <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n              <h4 class=\"font-medium text-yellow-900 mb-2\">注意事项</h4>\n              <ul class=\"space-y-1 text-sm text-yellow-800\">\n                <li v-for=\"warning in validation.warnings\" :key=\"warning\" class=\"flex items-start\">\n                  <span class=\"text-yellow-600 mr-2\">⚠️</span>\n                  <span>{{ warning }}</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <!-- 操作按钮 -->\n        <div class=\"flex gap-3\">\n          <button\n            @click=\"showSubmitDialog = false\"\n            class=\"btn btn-secondary flex-1\"\n          >\n            再检查一下\n          </button>\n          <button\n            @click=\"confirmSubmit\"\n            :disabled=\"submitting\"\n            class=\"btn btn-primary flex-1\"\n          >\n            <span v-if=\"!submitting\">确认提交</span>\n            <span v-else class=\"loading-dots\">生成报告中</span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 计算结果遮罩 -->\n    <div\n      v-if=\"submitting\"\n      class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50\"\n    >\n      <div class=\"bg-white rounded-xl shadow-xl p-8 max-w-md w-full text-center\">\n        <div class=\"mb-6\">\n          <div class=\"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <svg class=\"w-8 h-8 text-primary-600 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n          </div>\n          <h3 class=\"text-xl font-bold text-gray-900 mb-2\">正在生成您的个性化报告</h3>\n          <p class=\"text-gray-600\">请稍候，我们正在分析您的答案并生成专属报告...</p>\n        </div>\n        <div class=\"space-y-2 text-sm text-gray-500\">\n          <div class=\"flex items-center justify-center gap-2\">\n            <span class=\"loading-dots\">计算疲惫等级</span>\n          </div>\n          <div class=\"flex items-center justify-center gap-2\">\n            <span class=\"loading-dots\">分析疲惫来源</span>\n          </div>\n          <div class=\"flex items-center justify-center gap-2\">\n            <span class=\"loading-dots\">生成个性化建议</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useFatigueTestStore } from '@/stores/fatigueTest'\nimport { QUESTION_CONFIG, FATIGUE_LEVEL_LABELS } from '@/data/questions'\nimport ProgressBar from '@/components/ProgressBar.vue'\nimport QuestionItem from '@/components/QuestionItem.vue'\nimport QuestionNavigation from '@/components/QuestionNavigation.vue'\nimport type { Question } from '@/types'\n\nconst router = useRouter()\nconst fatigueTestStore = useFatigueTestStore()\n\nconst submitting = ref(false)\nconst showSubmitDialog = ref(false)\n\n// 获取所有题目（按顺序排列）\nconst allQuestions = computed((): Question[] => {\n  const questions: Question[] = []\n\n  // A模块题目\n  questions.push(...QUESTION_CONFIG.A.questions)\n\n  // B模块题目\n  questions.push(...QUESTION_CONFIG.B.subcategories.work.questions)\n  questions.push(...QUESTION_CONFIG.B.subcategories.relationship.questions)\n  questions.push(...QUESTION_CONFIG.B.subcategories.selfDemand.questions)\n\n  // C模块题目\n  questions.push(...QUESTION_CONFIG.C.subtypes.emotional_overload.questions)\n  questions.push(...QUESTION_CONFIG.C.subtypes.responsibility_trap.questions)\n  questions.push(...QUESTION_CONFIG.C.subtypes.comparison_anxiety.questions)\n  questions.push(...QUESTION_CONFIG.C.subtypes.high_pressure_mode.questions)\n\n  // D模块题目\n  questions.push(...QUESTION_CONFIG.D.questions)\n\n  return questions\n})\n\n// 当前题目\nconst currentQuestion = computed(() => {\n  return allQuestions.value[fatigueTestStore.currentQuestionIndex]\n})\n\n// 当前模块信息\nconst currentModuleInfo = computed(() => {\n  const currentQuestion = allQuestions.value[fatigueTestStore.currentQuestionIndex]\n  if (!currentQuestion) return null\n\n  const questionId = currentQuestion.id\n\n  if (questionId.startsWith('A')) {\n    return {\n      title: QUESTION_CONFIG.A.title,\n      description: QUESTION_CONFIG.A.description\n    }\n  } else if (questionId.startsWith('B')) {\n    return {\n      title: QUESTION_CONFIG.B.title,\n      description: QUESTION_CONFIG.B.description\n    }\n  } else if (questionId.startsWith('C')) {\n    return {\n      title: QUESTION_CONFIG.C.title,\n      description: QUESTION_CONFIG.C.description\n    }\n  } else if (questionId.startsWith('D')) {\n    return {\n      title: QUESTION_CONFIG.D.title,\n      description: QUESTION_CONFIG.D.description\n    }\n  }\n\n  return null\n})\n\n// 答案验证\nconst validation = computed(() => {\n  return fatigueTestStore.validateAnswers()\n})\n\n// 获取题目类别标签\nconst getCategoryLabel = (question: Question): string => {\n  const questionId = question.id\n\n  if (questionId.startsWith('A')) {\n    return '整体疲惫强度'\n  } else if (questionId.startsWith('B')) {\n    if (['B1', 'B2', 'B3', 'B4'].includes(questionId)) return '工作/学习'\n    if (['B5', 'B6', 'B7', 'B8'].includes(questionId)) return '人际/家庭'\n    if (['B9', 'B10', 'B11', 'B12'].includes(questionId)) return '自我要求'\n  } else if (questionId.startsWith('C')) {\n    if (['C1', 'C2', 'C3', 'C4'].includes(questionId)) return '情绪过载型'\n    if (['C5', 'C6', 'C7', 'C8'].includes(questionId)) return '责任绑架型'\n    if (['C9', 'C10', 'C11', 'C12'].includes(questionId)) return '对比焦虑型'\n    if (['C13', 'C14', 'C15', 'C16'].includes(questionId)) return '高压稳定型'\n  } else if (questionId.startsWith('D')) {\n    return '心理韧性'\n  }\n\n  return ''\n}\n\n// 保存答案\nconst saveAnswer = (score: number) => {\n  if (currentQuestion.value) {\n    fatigueTestStore.saveAnswer(currentQuestion.value.id, score)\n  }\n}\n\n// 答案选择后的处理\nconst onAnswerSelected = (questionId: string, score: number) => {\n  // 可以在这里添加其他逻辑，比如自动跳转等\n  console.log(`Question ${questionId} answered with score ${score}`)\n}\n\n// 处理自动跳转到下一题\nconst handleAutoNext = () => {\n  // 检查是否还有下一题\n  if (fatigueTestStore.currentQuestionIndex < allQuestions.value.length - 1) {\n    // 自动跳转到下一题\n    fatigueTestStore.nextQuestion()\n  } else {\n    // 如果是最后一题，可以自动触发提交提示\n    // 这里选择不自动提交，让用户自己决定\n    console.log('已是最后一题，等待用户提交')\n  }\n}\n\n// 导航方法\nconst goToQuestion = (index: number) => {\n  fatigueTestStore.goToQuestion(index)\n}\n\nconst goPrevious = () => {\n  fatigueTestStore.previousQuestion()\n}\n\nconst goNext = () => {\n  fatigueTestStore.nextQuestion()\n}\n\n// 提交测试\nconst submitTest = () => {\n  if (fatigueTestStore.canSubmit) {\n    showSubmitDialog.value = true\n  }\n}\n\n// 确认提交\nconst confirmSubmit = async () => {\n  submitting.value = true\n  showSubmitDialog.value = false\n\n  try {\n    // 手动计算基础结果（不使用calculateResults，因为它会自动跳转）\n    if (!fatigueTestStore.canSubmit) {\n      throw new Error('还有题目未完成')\n    }\n\n    fatigueTestStore.isCalculating = true\n\n    // 模拟计算延迟，让用户看到加载状态\n    await new Promise(resolve => setTimeout(resolve, 1500))\n\n    // 计算结果（但不跳转）\n    const { calculateFatigueResult } = await import('@/utils/calculator')\n    fatigueTestStore.result = calculateFatigueResult(fatigueTestStore.answers)\n    fatigueTestStore.endTime = Date.now()\n\n    // 生成完整报告并存储到store中\n    await generateDetailedReport()\n\n    // 重置提交状态\n    submitting.value = false\n    fatigueTestStore.isCalculating = false\n\n    console.log('报告生成完成，准备跳转到结果页面')\n\n    // 跳转到结果页面\n    router.push('/results')\n  } catch (error) {\n    console.error('提交测试失败:', error)\n    // 可以显示错误提示\n    submitting.value = false\n    fatigueTestStore.isCalculating = false\n  }\n}\n\n// 生成详细报告\nconst generateDetailedReport = async () => {\n  console.log('开始生成详细报告...')\n\n  if (fatigueTestStore.result) {\n    console.log('测试结果存在，开始生成报告内容')\n\n    // 使用报告模板生成内容\n    const reportContent = generateReportContent(\n      fatigueTestStore.result,\n      fatigueTestStore.duration\n    )\n\n    console.log('报告内容生成完成，长度:', reportContent.length)\n\n    // 将报告存储到store中\n    fatigueTestStore.setDetailedReport(reportContent)\n\n    console.log('报告已存储到store')\n  } else {\n    console.error('没有找到测试结果，无法生成报告')\n  }\n}\n\n// 根据测试结果生成深度个性化报告内容\nconst generateReportContent = (testResult: any, durationSeconds?: number | null) => {\n  const fatigueLevel = testResult.fatigueLevel ?? 1\n  const fatigueLabel = testResult.fatigueLabel ?? FATIGUE_LEVEL_LABELS[fatigueLevel as keyof typeof FATIGUE_LEVEL_LABELS]\n  const primaryType = testResult.primaryType\n  const secondaryType = testResult.secondaryType\n  const sceneScores = testResult.sceneScores || {}\n  const recoveryLevel = testResult.recoveryLevel || 'medium'\n  const personalTags = testResult.personalTags || []\n  const reportDuration = durationSeconds ?? testResult.duration ?? null\n\n  // ========== 1. 深度心理洞察 ==========\n  const psychologicalInsight = generatePsychologicalInsight(fatigueLevel, primaryType, sceneScores, personalTags)\n\n  // ========== 2. 行为模式深度解读 ==========\n  const behaviorAnalysis = generateBehaviorAnalysis(primaryType, sceneScores, recoveryLevel)\n\n  // ========== 3. 具体场景分析 ==========\n  const scenarioAnalysis = generateScenarioAnalysis(sceneScores, fatigueLevel)\n\n  // ========== 4. 深层原因挖掘 ==========\n  const rootCauseAnalysis = generateRootCauseAnalysis(primaryType, sceneScores, fatigueLevel)\n\n  // ========== 5. 分级干预策略 ==========\n  const interventionStrategies = generateInterventionStrategies(fatigueLevel, primaryType, sceneScores, recoveryLevel)\n\n  // ========== 6. 个性化行动方案 ==========\n  const actionPlan = generateActionPlan(fatigueLevel, primaryType, sceneScores, personalTags, recoveryLevel)\n\n  // ========== 7. 专业评估与建议 ==========\n  const professionalAssessment = generateProfessionalAssessment(fatigueLevel, recoveryLevel, sceneScores)\n\n  // 整合完整报告\n  const fullReport = `\n    <div class=\"comprehensive-report\">\n      <!-- 报告头部 -->\n      <div class=\"report-header border-l-4 border-indigo-600 bg-indigo-50 mb-8 p-6 rounded-xl\">\n        <h2 class=\"text-2xl font-bold text-indigo-900 mb-4\">🧠 深度情绪疲惫度分析报告</h2>\n        <div class=\"text-indigo-700\">\n          <p class=\"mb-3\"><strong>测评时间：</strong>${new Date().toLocaleDateString()} | 用时：${reportDuration !== null ? formatDuration(reportDuration) : '未知'}</p>\n          <p class=\"text-lg\"><strong>核心诊断：</strong>${fatigueLabel}</p>\n          <p class=\"text-sm\">主要疲惫类型：${primaryType?.name || '综合压力型'}（匹配度：${primaryType?.matchScore || 0}%）</p>\n          ${secondaryType && secondaryType.code !== primaryType.code ? `<p class=\"text-sm\">次要类型：${secondaryType.name}（匹配度：${secondaryType.matchScore}%）</p>` : ''}\n        </div>\n      </div>\n\n      <!-- 第一部分：深度心理洞察 -->\n      ${psychologicalInsight}\n\n      <!-- 第二部分：行为模式深度解读 -->\n      ${behaviorAnalysis}\n\n      <!-- 第三部分：具体场景分析 -->\n      ${scenarioAnalysis}\n\n      <!-- 第四部分：深层原因挖掘 -->\n      ${rootCauseAnalysis}\n\n      <!-- 第五部分：分级干预策略 -->\n      ${interventionStrategies}\n\n      <!-- 第六部分：个性化行动方案 -->\n      ${actionPlan}\n\n      <!-- 第七部分：专业评估与建议 -->\n      ${professionalAssessment}\n\n      <!-- 温馨提示 -->\n      <div class=\"bg-blue-50 border-l-4 border-blue-300 p-4 rounded-lg mt-6\">\n        <h4 class=\"text-blue-900 font-semibold mb-3\">💡 重要提醒</h4>\n        <div class=\"text-blue-800 text-sm leading-relaxed space-y-2\">\n          <p>• 这份报告基于您当前的心理状态绘制，情绪恢复是一个渐进的过程，需要持续的关注和耐心。</p>\n          <p>• 如果疲惫感持续加重，或出现严重的心理困扰，请及时寻求专业的心理咨询师或治疗师的帮助。</p>\n          <p>• 建议您定期（比如每2-3个月）重新测评，跟踪自己的情绪状态变化。</p>\n        </div>\n    </div>\n  `\n\n  return fullReport\n}\n\n// 格式化测试时间\nconst formatDuration = (seconds: number | null): string => {\n  if (seconds === null) return '未知'\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = seconds % 60\n  return remainingSeconds > 0 ? `${minutes}分${remainingSeconds}秒` : `${minutes}分钟`\n}\n\n// 生成深度心理洞察\nfunction generatePsychologicalInsight(fatigueLevel: number, primaryType: any, _sceneScores: any, _personalTags: string[]) {\n  const levelLabels = ['情绪稳定', '轻度疲劳', '中度耗竭', '重度透支', '极度崩溃']\n  const currentLevel = levelLabels[fatigueLevel] || levelLabels[1]\n\n  let typeInsight = ''\n  switch(primaryType?.code) {\n    case 'type_emotional_overload':\n      typeInsight = '您是一个高敏感、高共情能力的人，容易吸收他人的负面情绪而承担过重的心理负担。这种\"情绪海绵\"特质让您在人际交往中过度付出，却缺乏有效的自我保护机制。'\n      break\n    case 'type_responsibility_trap':\n      typeInsight = '您有强烈的责任感和完美主义倾向，习惯性地将他人需求置于自己需求之前，很难拒绝额外的工作和社交活动。这种\"老好人\"模式正在持续消耗您的心理资源。'\n      break\n    case 'type_comparison_anxiety':\n      typeInsight = '您容易与他人进行比较，对自己有过高的期望和要求，经常处于\"不够好\"的焦虑状态。这种持续的自我评价和比较正在消耗您宝贵的心理能量。'\n      break\n    case 'type_high_pressure_mode':\n      typeInsight = '您习惯于高强度、快节奏的生活方式和工作模式，很难真正放松下来，即使休息时也保持着\"待机\"状态。这种持续运转模式已经让您失去了与内心真实需求的连接。'\n      break\n    default:\n      typeInsight = '您正在经历多方面的压力累积，需要在生活中重新平衡各种角色和需求。'\n  }\n\n  return `\n    <div class=\"insight-section border-l-4 border-purple-500 bg-purple-50 p-6 rounded-xl mb-6\">\n      <h3 class=\"text-xl font-bold text-purple-900 mb-4 flex items-center\">\n        <span class=\"w-2 h-2 bg-purple-200 rounded-full mr-3\"></span>\n        深度心理洞察\n      </h3>\n\n      <div class=\"space-y-4 text-gray-700\">\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-purple-200\">\n          <h4 class=\"font-semibold text-purple-900 mb-2\">🎯 您的核心心理特征</h4>\n          <p class=\"leading-relaxed\">${typeInsight}</p>\n        </div>\n\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-purple-200\">\n          <h4 class=\"font-semibold text-purple-900 mb-2\">🧠 当前状态解读</h4>\n          <p class=\"leading-relaxed\">您目前处于<strong>${currentLevel}</strong>状态。这种状态意味着您的情绪调节能力正在下降，心理资源消耗速度已经超过恢复速度。如果不及时干预，可能会进一步恶化为更深层的情绪问题。</p>\n          ${fatigueLevel >= 2 ? `\n          <div class=\"mt-3 p-3 bg-red-50 rounded-lg border-l-4 border-red-200\">\n            <p class=\"text-red-800\"><strong>⚠️ 警示信号：</strong>您的情绪系统已经发出明显的求助信号，日常功能可能开始受到影响。这是您需要认真对待并采取行动的时刻。</p>\n          </div>\n          ` : ''}\n        </div>\n\n        ${_personalTags.length > 0 ? `\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-purple-200\">\n          <h4 class=\"font-semibold text-purple-900 mb-2\">🏷️ 个性化特征标签</h4>\n          <div class=\"flex flex-wrap gap-2\">\n            ${_personalTags.map((tag: any) => `<span class=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm\">${tag}</span>`).join('')}\n          </div>\n        </div>\n        ` : ''}\n      </div>\n    </div>\n  `\n}\n\n// 生成行为模式深度解读\nfunction generateBehaviorAnalysis(_primaryType: any, _sceneScores: any, _recoveryLevel: string) {\n  return `\n    <div class=\"behavior-section border-l-4 border-blue-500 bg-blue-50 p-6 rounded-xl mb-6\">\n      <h3 class=\"text-xl font-bold text-blue-900 mb-4 flex items-center\">\n        <span class=\"w-2 h-2 bg-blue-200 rounded-full mr-3\"></span>\n        行为模式深度解读\n      </h3>\n\n      <div class=\"space-y-4\">\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-blue-200\">\n            <h4 class=\"font-semibold text-blue-900 mb-3\">🔄 典型行为循环</h4>\n            <div class=\"space-y-2 text-gray-700\">\n              <p><strong>触发阶段：</strong>遇到压力源 → 激活应对模式 → 产生情绪反应 → 承担后果 → 恢复阶段</p>\n              <p><strong>您的模式：</strong>基于您的测评结果，您经常陷入<strong>\"过度付出-疲惫积累-继续坚持\"</strong>的循环，缺乏有效的暂停和重新评估机制。</p>\n            </div>\n          </div>\n\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-blue-200\">\n            <h4 class=\"font-semibold text-blue-900 mb-3\">💭 认知偏差识别</h4>\n            <div class=\"space-y-2 text-gray-700\">\n              <p>• <strong>完美主义倾向：</strong>可能过度追求高标准，难以接受\"足够好\"的结果</p>\n              <p>• <strong>责任偏差：</strong>过度承担他人的情绪需求和责任</p>\n              <p>• <strong>恢复误区：</strong>认为休息就能解决问题，而忽视了深层的模式调整</p>\n            </div>\n          </div>\n      </div>\n    </div>\n  `\n}\n\n// 生成具体场景分析\nfunction generateScenarioAnalysis(_sceneScores: any, _fatigueLevel: number) {\n  const workScore = _sceneScores.work || 0\n  const relationshipScore = _sceneScores.relationship || 0\n  const selfDemandScore = _sceneScores.selfDemand || 0\n\n  return `\n    <div class=\"scenario-section border-l-4 border-orange-500 bg-orange-50 p-6 rounded-xl mb-6\">\n      <h3 class=\"text-xl font-bold text-orange-900 mb-4 flex items-center\">\n        <span class=\"w-2 h-2 bg-orange-200 rounded-full mr-3\"></span>\n        具体场景深度分析\n      </h3>\n\n      <div class=\"space-y-6\">\n        ${workScore >= 3.0 ? `\n        <div class=\"bg-red-50 p-4 rounded-lg border-l-4 border-red-200\">\n          <h4 class=\"font-semibold text-red-900 mb-3\">💼 工作场景高压状态</h4>\n          <p class=\"text-red-800 leading-relaxed\">您的工作压力评分为<strong>${workScore.toFixed(1)}</strong>，这表明您的工作环境或工作方式正在严重消耗您的心理资源。</p>\n          <div class=\"mt-3 space-y-2 text-red-700\">\n            <p>• 可能的表现：难以集中注意力、工作效率下降、对工作产生抵触情绪</p>\n            <p>• 深层原因：工作量超负荷、缺乏控制感、人际关系压力、价值感缺失</p>\n            <p>• <strong>立即行动建议：</strong>主动与上级沟通工作负荷、评估工作优先级、建立工作边界</p>\n          </div>\n        </div>\n        ` : workScore >= 2.0 ? `\n        <div class=\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-200\">\n          <h4 class=\"font-semibold text-yellow-900 mb-3\">💼 工作场景中等压力</h4>\n          <p class=\"text-yellow-800 leading-relaxed\">您的工作压力评分为<strong>${workScore.toFixed(1)}</strong>，处于中等压力水平，需要适度关注。</p>\n          <div class=\"mt-3 space-y-2 text-yellow-700\">\n            <p>• 可能的表现：偶尔感到工作疲惫、对某些任务缺乏动力、工作与生活平衡困难</p>\n            <p>• 深层原因：工作量周期性波动、技能与要求不完全匹配、时间管理挑战</p>\n            <p>• <strong>预防性建议：</strong>定期评估工作负荷、提升时间管理技能、培养工作之外的兴趣爱好</p>\n          </div>\n        </div>\n        ` : `\n        <div class=\"bg-green-50 p-4 rounded-lg border-l-4 border-green-200\">\n          <h4 class=\"font-semibold text-green-900 mb-3\">💼 工作场景相对健康</h4>\n          <p class=\"text-green-800 leading-relaxed\">您的工作压力评分为<strong>${workScore.toFixed(1)}</strong>，表明您在工作场景中保持了较好的心理状态。</p>\n          <div class=\"mt-3 space-y-2 text-green-700\">\n            <p>• 积极表现：能够较好地处理工作挑战、保持工作效率、有良好的工作节奏</p>\n            <p>• 保护因素：有效的工作策略、支持性的工作环境、清晰的职业目标</p>\n            <p>• <strong>维护建议：</strong>继续当前的良好做法、定期自我评估、预防性调整工作策略</p>\n          </div>\n        </div>\n        `}\n\n        ${relationshipScore >= 3.0 ? `\n        <div class=\"bg-red-50 p-4 rounded-lg border-l-4 border-red-200\">\n          <h4 class=\"font-semibold text-red-900 mb-3\">👥 人际关系高消耗状态</h4>\n          <p class=\"text-red-800 leading-relaxed\">您的人际关系评分为<strong>${relationshipScore.toFixed(1)}</strong>，表明社交互动正在大量消耗您的能量。</p>\n          <div class=\"mt-3 space-y-2 text-red-700\">\n            <p>• 可能的表现：害怕让人失望、难以拒绝他人请求、在关系中过度付出、经常感到被利用</p>\n            <p>• 深层原因：缺乏健康的人际边界、过度共情、讨好型人格特质</p>\n            <p>• <strong>立即行动建议：</strong>练习选择性参与社交、建立关系层次、学会表达自己的需求</p>\n          </div>\n        </div>\n        ` : relationshipScore >= 2.0 ? `\n        <div class=\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-200\">\n          <h4 class=\"font-semibold text-yellow-900 mb-3\">👥 人际关系中等消耗</h4>\n          <p class=\"text-yellow-800 leading-relaxed\">您的人际关系评分为<strong>${relationshipScore.toFixed(1)}</strong>，处于中等水平，需要注意社交能量的管理。</p>\n          <div class=\"mt-3 space-y-2 text-yellow-700\">\n            <p>• 可能的表现：在特定社交场合感到疲惫、偶尔难以平衡付出与回报、人际关系波动</p>\n            <p>• 深层原因：社交技能需要提升、边界意识不够清晰、关系模式有待优化</p>\n            <p>• <strong>改善建议：</strong>提升社交技巧、练习适度的自我保护、建立更健康的互动模式</p>\n          </div>\n        </div>\n        ` : `\n        <div class=\"bg-green-50 p-4 rounded-lg border-l-4 border-green-200\">\n          <h4 class=\"font-semibold text-green-900 mb-3\">👥 人际关系相对平衡</h4>\n          <p class=\"text-green-800 leading-relaxed\">您的人际关系评分为<strong>${relationshipScore.toFixed(1)}</strong>，表明您在社交互动中保持了较好的平衡。</p>\n          <div class=\"mt-3 space-y-2 text-green-700\">\n            <p>• 积极表现：能够健康地处理人际关系、有适当的边界意识、享受有质量的社交</p>\n            <p>• 保护因素：良好的社交技巧、健康的人际边界、支持性的社交网络</p>\n            <p>• <strong>维护建议：</strong>继续保持健康的社交模式、深化有意义的关系、定期评估人际关系质量</p>\n          </div>\n        </div>\n        `}\n\n        ${selfDemandScore >= 3.0 ? `\n        <div class=\"bg-red-50 p-4 rounded-lg border-l-4 border-red-200\">\n          <h4 class=\"font-semibold text-red-900 mb-3\">🎯 自我要求过度苛责</h4>\n          <p class=\"text-red-800 leading-relaxed\">您的自我要求评分为<strong>${selfDemandScore.toFixed(1)}</strong>，表明您对自己的过高标准正在持续消耗心理能量。</p>\n          <div class=\"mt-3 space-y-2 text-red-700\">\n            <p>• 可能的表现：完美主义、自我批评严重、害怕失败、难以放松标准</p>\n            <p>• 深层原因：早期形成的条件式自我价值、社会比较压力、内在的严厉批评声音</p>\n            <p>• <strong>立即行动建议：</strong>重新定义成功标准、练习自我慈悲、设定现实可达成的目标</p>\n          </div>\n        </div>\n        ` : selfDemandScore >= 2.0 ? `\n        <div class=\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-200\">\n          <h4 class=\"font-semibold text-yellow-900 mb-3\">🎯 自我要求中等水平</h4>\n          <p class=\"text-yellow-800 leading-relaxed\">您的自我要求评分为<strong>${selfDemandScore.toFixed(1)}</strong>，表明您的自我期待适中，但有时可能过度自我批评。</p>\n          <div class=\"mt-3 space-y-2 text-yellow-700\">\n            <p>• 可能的表现：偶尔追求完美、在重要任务上压力较大、对自己有较高期待</p>\n            <p>• 深层原因：成长过程中形成的价值观、对成功的理解、社会环境影响</p>\n            <p>• <strong>平衡建议：</strong>学会区分高标准与完美主义、练习自我接纳、建立弹性思维</p>\n          </div>\n        </div>\n        ` : `\n        <div class=\"bg-green-50 p-4 rounded-lg border-l-4 border-green-200\">\n          <h4 class=\"font-semibold text-green-900 mb-3\">🎯 自我要求相对健康</h4>\n          <p class=\"text-green-800 leading-relaxed\">您的自我要求评分为<strong>${selfDemandScore.toFixed(1)}</strong>，表明您对自己的期望是健康和现实的。</p>\n          <div class=\"mt-3 space-y-2 text-green-700\">\n            <p>• 积极表现：能够设定现实的目标、从错误中学习、保持积极的自我对话</p>\n            <p>• 保护因素：健康的自尊水平、良好的自我认知、弹性的思维模式</p>\n            <p>• <strong>维护建议：</strong>继续保持健康的自我期待、支持性的自我对话、平衡目标与放松</p>\n          </div>\n        </div>\n        `}\n      </div>\n    </div>\n  `\n}\n\n// 生成深层原因挖掘\nfunction generateRootCauseAnalysis(_primaryType: any, _sceneScores: any, _fatigueLevel: number) {\n  return `\n    <div class=\"rootcause-section border-l-4 border-green-500 bg-green-50 p-6 rounded-xl mb-6\">\n      <h3 class=\"text-xl font-bold text-green-900 mb-4 flex items-center\">\n        <span class=\"w-2 h-2 bg-green-200 rounded-full mr-3\"></span>\n        深层原因挖掘分析\n      </h3>\n\n      <div class=\"space-y-6\">\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-green-200\">\n          <h4 class=\"font-semibold text-green-900 mb-3\">🌱 早期形成因素</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <p>• <strong>成长环境：</strong>可能成长过程中形成了特定的行为模式，如过度承担责任、寻求认可等</p>\n            <p>• <strong>教育背景：</strong>可能被教育要完美、要照顾他人、不能表达负面情绪</p>\n            <p>• <strong>家庭模式：</strong>可能在家庭中承担了\"情绪照顾者\"或\"小大人\"的角色</p>\n          </div>\n        </div>\n\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-green-200\">\n          <h4 class=\"font-semibold text-green-900 mb-3\">⚖️ 维持机制分析</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <p>• <strong>当前应对方式：</strong>通过更努力工作、加倍付出来解决问题，但这实际上加剧了疲惫</p>\n            <p>• <strong>次级收益：</strong>可能短期内获得了认可或避免了冲突，但长期来看却牺牲了心理健康</p>\n            <p>• <strong>为什么难以改变：</strong>这些模式已经自动化，成为您身份认同的一部分，改变需要意识努力和持续练习</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n}\n\n// 生成分级干预策略\nfunction generateInterventionStrategies(_fatigueLevel: number, _primaryType: any, _sceneScores: any, _recoveryLevel: string) {\n  const workScore = _sceneScores.work || 0\n  const relationshipScore = _sceneScores.relationship || 0\n\n  return `\n    <div class=\"intervention-section border-l-4 border-yellow-500 bg-yellow-50 p-6 rounded-xl mb-6\">\n      <h3 class=\"text-xl font-bold text-yellow-900 mb-4 flex items-center\">\n        <span class=\"w-2 h-2 bg-yellow-200 rounded-full mr-3\"></span>\n        分级干预策略\n      </h3>\n\n      <div class=\"space-y-6\">\n        <!-- 短期应急策略 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-yellow-200\">\n          <h4 class=\"font-semibold text-yellow-900 mb-3\">🚨 短期应急策略（立即可用）</h4>\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700\">\n            <div class=\"space-y-2\">\n              <h5 class=\"font-medium\">情绪急救技术</h5>\n              <ul class=\"space-y-1 text-sm\">\n                <li>• <strong>3-3-3呼吸法：</strong>感到压力时立即进行，激活副交感神经的放松反应</li>\n                <li>• <strong>情绪暂停术：</strong>在做出反应前问自己\"这真的需要我处理吗？\"</li>\n                <li>• <strong>快速脱身：</strong>物理离开压力环境5-10分钟</li>\n              </ul>\n            </div>\n\n            <div class=\"space-y-2\">\n              <h5 class=\"font-medium\">边界建立技巧</h5>\n              <ul class=\"space-y-1 text-sm\">\n                <li>• 练习说\"不\"，从小事情开始</li>\n                <li>• 延迟回应：\"我需要考虑一下再答复\"</li>\n                <li>• 设定每日拒绝配额</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <!-- 中期重建方案 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-yellow-200\">\n          <h4 class=\"font-semibold text-yellow-900 mb-3\">🔄 中期重建方案（1-3个月）</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            ${workScore >= 3.0 ? `\n            <h5 class=\"font-medium text-orange-800\">工作环境重建</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 主动与上级沟通工作量合理性</li>\n              <li>• 重新协商工作优先级和时间节点</li>\n              <li>• 建立工作时间的明确边界</li>\n              <li>• 寻求工作调动的可能性</li>\n            </ul>\n            ` : ''}\n\n            ${relationshipScore >= 3.0 ? `\n            <h5 class=\"font-medium text-red-800\">人际关系重建</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 识别和远离持续消耗您的关系</li>\n              <li>• 建立健康的社交边界和距离</li>\n              <li>• 培养基于相互尊重的关系模式</li>\n              <li>• 学会表达自己的真实感受和需求</li>\n            </ul>\n            ` : ''}\n\n            <h5 class=\"font-medium\">生活方式重建</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 重新设计日常作息，确保充足高质量睡眠</li>\n              <li>• 每天安排独处时间进行情绪恢复</li>\n              <li>• 重新评估和减少当前的承诺和义务</li>\n              <li>• 建立定期的运动和放松活动</li>\n            </ul>\n          </div>\n        </div>\n\n        <!-- 长期预防体系 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-yellow-200\">\n          <h4 class=\"font-semibold text-yellow-900 mb-3\">🛡️ 长期预防体系（3-6个月）</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <h5 class=\"font-medium\">认知重构核心</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 重新定义自我价值，摆脱条件式自我认可</li>\n              <li>• 建立基于内在需求的决策框架</li>\n              <li>• 学会接受不完美和不完整</li>\n              <li>• 培养自我慈悲和内在支持声音</li>\n            </ul>\n\n            <h5 class=\"font-medium\">可持续发展模式</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 建立定期自我检查和情绪评估习惯</li>\n              <li>• 形成支持性的人际关系网络</li>\n              <li>• 持续学习情绪调节和心理韧性技能</li>\n              <li>• 在工作和生活中寻求意义感和价值感</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n}\n\n// 生成个性化行动方案\nfunction generateActionPlan(_fatigueLevel: number, _primaryType: any, _sceneScores: any, _personalTags: string[], _recoveryLevel: string) {\n  return `\n    <div class=\"actionplan-section border-l-4 border-indigo-500 bg-indigo-50 p-6 rounded-xl mb-6\">\n      <h3 class=\"text-xl font-bold text-indigo-900 mb-4 flex items-center\">\n        <span class=\"w-2 h-2 bg-indigo-200 rounded-full mr-3\"></span>\n        个性化行动方案\n      </h3>\n\n      <div class=\"space-y-6\">\n        <!-- 30天行动计划 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-indigo-200\">\n          <h4 class=\"font-semibold text-indigo-900 mb-3\">📅 第一个月：稳定化计划</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <h5 class=\"font-medium\">每周目标设定</h5>\n            <ul class=\"space-y-2 text-sm\">\n              <li>• <strong>睡眠目标：</strong>每晚7-8小时高质量睡眠，固定睡眠时间</li>\n              <li>• <strong>边界练习：</strong>每周练习拒绝2-3个不合理请求</li>\n              <li>• <strong>独处时间：</strong>每天安排30分钟独处时间</li>\n              <li>• <strong>运动放松：</strong>每周3次轻度运动或放松活动</li>\n            </ul>\n\n            <h5 class=\"font-medium\">每日自我检查</h5>\n            <p class=\"text-sm\">每天晚上记录：今天的情绪状态、触发因素、应对方式、改善空间。这有助于增强自我觉察能力。</p>\n\n            <h5 class=\"font-medium\">紧急预案</h5>\n            <p class=\"text-sm\">识别可能的压力触发情况，提前准备应对策略，避免陷入被动的情绪反应模式。</p>\n          </div>\n        </div>\n\n        <!-- 专业资源推荐 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-indigo-200\">\n          <h4 class=\"font-semibold text-indigo-900 mb-3\">📚 专业资源推荐</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <h5 class=\"font-medium\">书籍推荐</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 《情绪耗竭：如何识别和预防》- Herbert Freudenberger</li>\n              <li>• 《过劳与自我照顾》- Christina Maslach</li>\n              <li>• 《不完美的礼物》- Brené Brown</li>\n            </ul>\n\n            <h5 class=\"font-medium\">实用工具和练习</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• <strong>情绪日记：</strong>记录情绪触发和反应模式</li>\n              <li>• <strong>正念冥想：</strong>每天10分钟，培养觉察和接纳</li>\n              <li>• <strong>身体扫描：</strong>定期检查身体紧张部位，主动放松</li>\n              <li>• <strong>支持小组：</strong>寻找有相似经历的人分享经验</li>\n            </ul>\n\n            <h5 class=\"font-medium\">何时寻求专业帮助</h5>\n            <div class=\"bg-orange-50 p-3 rounded border-l-4 border-orange-200 mt-3\">\n              <p class=\"text-orange-800 text-sm\"><strong>立即寻求帮助：</strong>出现以下任一情况时</p>\n              <ul class=\"space-y-1 text-orange-700 text-sm mt-2\">\n                <li>• 持续的情绪低落超过2周</li>\n                <li>• 严重的睡眠问题或身体症状</li>\n                <li>• 工作或人际关系严重受损</li>\n                <li>• 出现自我伤害的想法或冲动</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n}\n\n// 生成专业评估与建议\nfunction generateProfessionalAssessment(_fatigueLevel: number, _recoveryLevel: string, _sceneScores: any) {\n  const riskLevel = _fatigueLevel >= 3 ? '高风险' : _fatigueLevel >= 2 ? '中等风险' : '低风险'\n  const recoveryScore = _recoveryLevel === 'high' ? 8 : _recoveryLevel === 'medium' ? 5 : 2\n\n  return `\n    <div class=\"assessment-section border-l-4 border-red-500 bg-red-50 p-6 rounded-xl mb-6\">\n      <h3 class=\"text-xl font-bold text-red-900 mb-4 flex items-center\">\n        <span class=\"w-2 h-2 bg-red-200 rounded-full mr-3\"></span>\n        专业评估与后续建议\n      </h3>\n\n      <div class=\"space-y-6\">\n        <!-- 风险评估 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-red-200\">\n          <h4 class=\"font-semibold text-red-900 mb-3\">⚠️ 综合风险评估</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n              <div class=\"text-center\">\n                <p class=\"font-medium\">心理健康风险</p>\n                <p class=\"text-2xl font-bold ${riskLevel === '高风险' ? 'text-red-600' : riskLevel === '中等风险' ? 'text-orange-600' : 'text-green-600'}\">${riskLevel}</p>\n              </div>\n\n              <div class=\"text-center\">\n                <p class=\"font-medium\">功能影响程度</p>\n                <p class=\"text-2xl font-bold text-orange-600\">${_fatigueLevel >= 3 ? '严重' : _fatigueLevel >= 2 ? '中等' : '轻度'}</p>\n              </div>\n\n              <div class=\"text-center\">\n                <p class=\"font-medium\">紧急程度</p>\n                <p class=\"text-2xl font-bold ${_fatigueLevel >= 3 ? 'text-red-600' : _fatigueLevel >= 2 ? 'text-orange-600' : 'text-yellow-600'}\">${_fatigueLevel >= 3 ? '高' : _fatigueLevel >= 2 ? '中' : '低'}</p>\n              </div>\n            </div>\n\n            ${_fatigueLevel >= 2 ? `\n            <div class=\"mt-4 p-3 bg-red-100 rounded-lg\">\n              <p class=\"text-red-800\"><strong>⚡ 重要提醒：</strong>您当前的疲惫状态已经对日常生活产生实质性影响，建议认真考虑寻求专业的心理健康支持。</p>\n            </div>\n            ` : ''}\n          </div>\n        </div>\n\n        <!-- 康复前景分析 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-red-200\">\n          <h4 class=\"font-semibold text-red-900 mb-3\">📈 康复前景分析</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <p><strong>心理韧性评分：</strong>${recoveryScore}/10 分</p>\n            <p><strong>预计恢复时间：</strong>${_recoveryLevel === 'high' ? '3-6个月' : _recoveryLevel === 'medium' ? '6-12个月' : '12-18个月'}</p>\n            <p><strong>成功关键因素：</strong>持续的自我觉察、有效的应对策略、支持性的人际环境、专业帮助的及时介入。</p>\n\n            <p><strong>潜在障碍：</strong>${_recoveryLevel === 'low' ? '心理韧性不足，抗压能力较弱' : '当前应对策略效果递减，需要新的模式'}</p>\n          </div>\n        </div>\n\n        <!-- 跟踪建议 -->\n        <div class=\"bg-white p-4 rounded-lg border-l-4 border-red-200\">\n          <h4 class=\"font-semibold text-red-900 mb-3\">📊 后续跟踪建议</h4>\n          <div class=\"space-y-3 text-gray-700\">\n            <h5 class=\"font-medium\">每周评估指标</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 整体情绪状态（1-10分评估）</li>\n              <li>• 睡眠质量和时长</li>\n              <li>• 工作压力感知程度</li>\n              <li>• 社交活动后的能量水平</li>\n              <li>• 身体症状变化</li>\n            </ul>\n\n            <h5 class=\"font-medium\">每月深入回顾</h5>\n            <ul class=\"space-y-1 text-sm\">\n              <li>• 识别情绪模式和触发因素的规律</li>\n              <li>• 评估应对策略的有效性</li>\n              <li>• 调整行动方案和目标</li>\n              <li>• 必要时寻求专业咨询调整方案</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n}\n\n// 监听题目变化，自动保存\nwatch(\n  () => fatigueTestStore.currentQuestionIndex,\n  (newIndex, oldIndex) => {\n    // 当用户手动跳转时，保存当前位置\n    if (Math.abs(newIndex - oldIndex) > 1) {\n      console.log(`Jumped to question ${newIndex + 1}`)\n    }\n  }\n)\n\n// 页面挂载时的处理\nonMounted(() => {\n  // 检查是否应该在这里\n  if (fatigueTestStore.currentStep !== 'questionnaire') {\n    router.push('/')\n  }\n\n  // 恢复答案（如果有的话）\n  fatigueTestStore.restoreAnswers()\n})\n</script>\n\n<style scoped>\n.animate-slide-up {\n  animation: slideUp 0.3s ease-out;\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* 题目切换过渡动画 */\n.question-slide-enter-active,\n.question-slide-leave-active {\n  transition: all 0.4s ease-out;\n}\n\n.question-slide-enter-from {\n  opacity: 0;\n  transform: translateX(50px);\n}\n\n.question-slide-leave-to {\n  opacity: 0;\n  transform: translateX(-50px);\n}\n\n.question-slide-enter-to,\n.question-slide-leave-from {\n  opacity: 1;\n  transform: translateX(0);\n}\n\n/* 为固定导航留出空间 */\n@media (min-width: 768px) {\n  .h-32 {\n    height: 8rem; /* 在桌面端给更多空间 */\n  }\n}\n</style>\n","<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\r\n    <!-- 顶部标题 -->\r\n    <div class=\"bg-white shadow-sm border-b border-gray-200\">\r\n      <div class=\"max-w-5xl mx-auto px-4 py-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 class=\"text-3xl font-bold text-gray-900\">情绪疲惫度测试结果</h1>\r\n            <p class=\"text-gray-600 mt-1\">\r\n              测试时间: {{ formatDuration(fatigueTestStore.duration) }} ·\r\n              {{ new Date().toLocaleDateString() }}\r\n            </p>\r\n          </div>\r\n          <button\r\n            @click=\"restartTest\"\r\n            class=\"btn btn-secondary\"\r\n          >\r\n            重新测试\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 主要内容区域 -->\r\n    <div v-if=\"result\" class=\"max-w-5xl mx-auto px-4 py-8\">\r\n      <!-- 核心诊断概览 -->\r\n      <div class=\"result-card featured mb-8 animate-fade-in\">\r\n        <div class=\"text-center\">\r\n          <div class=\"inline-flex items-center px-6 py-3 rounded-full text-lg font-bold mb-4\"\r\n               :class=\"`fatigue-${result.fatigueLevel}`\">\r\n            {{ result.fatigueLabel }}\r\n          </div>\r\n\r\n          <!-- 关键指标概览 -->\r\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 w-full\">\r\n            <!-- 疲惫类型匹配度 -->\r\n            <div class=\"text-center p-6 bg-blue-50 rounded-lg border border-blue-200 h-full flex flex-col justify-between\">\r\n              <div class=\"mb-3\">\r\n                <div class=\"text-lg font-semibold text-blue-800 mb-1\">{{ getMatchLevel(result.primaryType.matchScore).level }}</div>\r\n                <div class=\"text-xs text-blue-600\">{{ result.primaryType.matchScore }}% 匹配度</div>\r\n              </div>\r\n\r\n              <!-- 进度条 -->\r\n              <div class=\"metric-progress-bar mb-3\">\r\n                <div\r\n                  class=\"metric-progress-fill\"\r\n                  :class=\"getMatchLevel(result.primaryType.matchScore).barColor\"\r\n                  :style=\"{ width: result.primaryType.matchScore + '%' }\"\r\n                ></div>\r\n              </div>\r\n\r\n              <div class=\"font-medium text-blue-900\">{{ result.primaryType.name }}</div>\r\n            </div>\r\n\r\n            <!-- 工作压力指数 -->\r\n            <div class=\"text-center p-6 bg-orange-50 rounded-lg border border-orange-200 h-full flex flex-col justify-between\">\r\n              <div class=\"mb-3\">\r\n                <div class=\"text-lg font-semibold text-orange-800 mb-1\">{{ getWorkPressureLevel(result.sceneScores.work).level }}</div>\r\n                <div class=\"text-xs text-orange-600\">{{ result.sceneScores.work.toFixed(1) }}/5.0 压力指数</div>\r\n              </div>\r\n\r\n              <!-- 进度条 -->\r\n              <div class=\"metric-progress-bar mb-3\">\r\n                <div\r\n                  class=\"metric-progress-fill\"\r\n                  :class=\"getWorkPressureLevel(result.sceneScores.work).barColor\"\r\n                  :style=\"{ width: getWorkPressureLevel(result.sceneScores.work).percentage + '%' }\"\r\n                ></div>\r\n              </div>\r\n\r\n              <div class=\"font-medium text-orange-900\">{{ getPressureLevel(result.sceneScores.work) }}</div>\r\n            </div>\r\n\r\n            <!-- 心理韧性水平 -->\r\n            <div class=\"text-center p-6 bg-green-50 rounded-lg border border-green-200 h-full flex flex-col justify-between\">\r\n              <div class=\"mb-3\">\r\n                <div class=\"text-lg font-semibold text-green-800 mb-1\">{{ getResilienceLevelInfo(result.recoveryLevel).level }}</div>\r\n                <div class=\"text-xs text-green-600\">{{ getRecoveryScoreText(result.recoveryLevel) }} 韧性评分</div>\r\n              </div>\r\n\r\n              <!-- 进度条 -->\r\n              <div class=\"metric-progress-bar mb-3\">\r\n                <div\r\n                  class=\"metric-progress-fill\"\r\n                  :class=\"getResilienceLevelInfo(result.recoveryLevel).barColor\"\r\n                  :style=\"{ width: getResilienceLevelInfo(result.recoveryLevel).percentage + '%' }\"\r\n                ></div>\r\n              </div>\r\n\r\n              <div class=\"font-medium text-green-900\">{{ result.recoveryLabel }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 个人特征标签 -->\r\n          <div class=\"result-card animate-fade-in\" style=\"animation-delay: 0.5s\">\r\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-center gap-2\">\r\n              <span class=\"w-2 h-2 bg-purple-500 rounded-full\"></span>\r\n              个人特征标签\r\n            </h3>\r\n            <div class=\"flex flex-wrap gap-2 justify-center md:gap-3 lg:gap-4\">\r\n              <span\r\n                v-for=\"tag in result.personalTags\"\r\n                :key=\"tag\"\r\n                class=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium\"\r\n              >\r\n                {{ tag }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 三大核心分析 - 水平等宽布局 -->\r\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-8 w-full\">\r\n        <!-- 疲惫类型分析 -->\r\n        <div class=\"analysis-card animate-fade-in\" style=\"animation-delay: 0.1s\">\r\n          <div class=\"card-header\">\r\n            <span class=\"header-dot bg-blue-500\"></span>\r\n            <h3 class=\"card-title\">疲惫类型分析</h3>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <!-- 主要疲惫类型 -->\r\n            <div class=\"type-item primary\">\r\n              <div class=\"type-header\">\r\n                <h4 class=\"type-name\">{{ result.primaryType.name }}</h4>\r\n                <span class=\"type-badge primary\">主要 {{ result.primaryType.matchScore }}%</span>\r\n              </div>\r\n              <p class=\"type-description\">{{ getTypeDescription(result.primaryType.code) }}</p>\r\n\r\n              <!-- 典型表现 -->\r\n              <div class=\"type-section\">\r\n                <h5 class=\"section-title\">🎯 典型表现</h5>\r\n                <ul class=\"feature-list\">\r\n                  <li v-for=\"manifestation in getTypeManifestations(result.primaryType.code)\" :key=\"manifestation\">\r\n                    {{ manifestation }}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n\r\n              <!-- 改善方向 -->\r\n              <div class=\"type-section\">\r\n                <h5 class=\"section-title\">💡 改善方向</h5>\r\n                <ul class=\"advice-list\">\r\n                  <li v-for=\"advice in getTypeImprovementAdvice(result.primaryType.code)\" :key=\"advice\">\r\n                    {{ advice }}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 次要疲惫类型 -->\r\n            <div v-if=\"result.secondaryType && result.secondaryType.code !== result.primaryType.code\"\r\n                 class=\"type-item secondary\">\r\n              <div class=\"type-header\">\r\n                <h4 class=\"type-name\">{{ result.secondaryType.name }}</h4>\r\n                <span class=\"type-badge secondary\">次要 {{ result.secondaryType.matchScore }}%</span>\r\n              </div>\r\n              <p class=\"type-description\">{{ getTypeDescription(result.secondaryType.code) }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 场景压力分析 -->\r\n        <div class=\"analysis-card animate-fade-in\" style=\"animation-delay: 0.2s\">\r\n          <div class=\"card-header\">\r\n            <span class=\"header-dot bg-orange-500\"></span>\r\n            <h3 class=\"card-title\">场景压力分析</h3>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <div v-for=\"(score, scene) in result.sceneScores\" :key=\"scene\" class=\"scene-item\">\r\n              <div class=\"scene-header\">\r\n                <span class=\"scene-name\">{{ getSceneName(scene) }}</span>\r\n                <div class=\"scene-score\">\r\n                  <span class=\"score-text\" :class=\"getScoreColor(score)\">{{ score.toFixed(1) }}</span>\r\n                  <span class=\"pressure-badge\" :class=\"getPressureLevelClass(score)\">{{ getPressureLevel(score) }}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"progress-bar\">\r\n                <div class=\"progress-fill\" :class=\"getScoreBarColor(score)\"\r\n                     :style=\"{ width: `${(score / 5) * 100}%` }\"></div>\r\n              </div>\r\n              <div class=\"scene-advice\">\r\n                {{ getPressureAdvice(score, scene) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 心理韧性评估 -->\r\n        <div class=\"analysis-card animate-fade-in\" style=\"animation-delay: 0.3s\">\r\n          <div class=\"card-header\">\r\n            <span class=\"header-dot bg-green-500\"></span>\r\n            <h3 class=\"card-title\">心理韧性评估</h3>\r\n          </div>\r\n          <div class=\"card-content\">\r\n            <div class=\"recovery-result\">\r\n              <div class=\"recovery-badge\" :class=\"getRecoveryLevelClass(result.recoveryLevel)\">\r\n                {{ result.recoveryLabel }}\r\n              </div>\r\n              <div class=\"recovery-description\">\r\n                {{ getRecoveryDescription(result.recoveryLevel) }}\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 韧性指标分析 -->\r\n            <div class=\"metrics-section\">\r\n              <h5 class=\"section-title\">📊 韧性指标分析</h5>\r\n              <div class=\"metrics-grid\">\r\n                <div class=\"metric-item\">\r\n                  <div class=\"metric-label\">情绪调节</div>\r\n                  <div class=\"metric-stars\">\r\n                    <span v-for=\"i in 5\" :key=\"i\"\r\n                          class=\"star\"\r\n                          :class=\"i <= getResilienceMetrics(result.recoveryLevel).emotional ? 'filled' : ''\">\r\n                      ★\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"metric-item\">\r\n                  <div class=\"metric-label\">恢复速度</div>\r\n                  <div class=\"metric-stars\">\r\n                    <span v-for=\"i in 5\" :key=\"i\"\r\n                          class=\"star\"\r\n                          :class=\"i <= getResilienceMetrics(result.recoveryLevel).recovery ? 'filled' : ''\">\r\n                      ★\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"metric-item\">\r\n                  <div class=\"metric-label\">问题解决</div>\r\n                  <div class=\"metric-stars\">\r\n                    <span v-for=\"i in 5\" :key=\"i\"\r\n                          class=\"star\"\r\n                          :class=\"i <= getResilienceMetrics(result.recoveryLevel).problem_solving ? 'filled' : ''\">\r\n                      ★\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"metric-item\">\r\n                  <div class=\"metric-label\">社会支持</div>\r\n                  <div class=\"metric-stars\">\r\n                    <span v-for=\"i in 5\" :key=\"i\"\r\n                          class=\"star\"\r\n                          :class=\"i <= getResilienceMetrics(result.recoveryLevel).social_support ? 'filled' : ''\">\r\n                      ★\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 提升建议 -->\r\n            <div class=\"improvement-section\">\r\n              <h5 class=\"section-title\">🚀 提升建议</h5>\r\n              <ul class=\"improvement-list\">\r\n                <li v-for=\"suggestion in getResilienceImprovement(result.recoveryLevel)\" :key=\"suggestion\">\r\n                  {{ suggestion }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 专业建议部分（自动显示） -->\r\n      <div v-if=\"fatigueTestStore.detailedReport\" class=\"max-w-6xl mx-auto px-4 py-8 animate-fade-in\">\r\n        <div class=\"professional-advice-enhanced\">\r\n          <!-- 装饰性标题区域 -->\r\n          <div class=\"report-header-decoration\">\r\n            <div class=\"header-pattern\"></div>\r\n            <div class=\"header-content\">\r\n              <div class=\"header-icon\">\r\n                <div class=\"icon-ring\"></div>\r\n                <span class=\"icon-emoji\">🧠</span>\r\n              </div>\r\n              <div class=\"header-text\">\r\n                <h3 class=\"report-title\">深度个性化分析报告</h3>\r\n                <p class=\"report-subtitle\">基于您的测试结果，为您生成的专业心理评估和改善建议</p>\r\n                <div class=\"header-badges\">\r\n                  <span class=\"badge professional\">专业评估</span>\r\n                  <span class=\"badge personalized\">个性化定制</span>\r\n                  <span class=\"badge comprehensive\">全面分析</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 主要内容区域 -->\r\n          <div class=\"report-main-content\">\r\n            <div class=\"content-wrapper\">\r\n              <!-- 左侧装饰条 -->\r\n              <div class=\"left-decoration\">\r\n                <div class=\"decoration-dot dot-1\"></div>\r\n                <div class=\"decoration-dot dot-2\"></div>\r\n                <div class=\"decoration-dot dot-3\"></div>\r\n                <div class=\"decoration-line\"></div>\r\n              </div>\r\n\r\n              <!-- 报告内容 -->\r\n              <div class=\"report-content-enhanced\">\r\n                <div class=\"content-inner\">\r\n                  <div\r\n                    ref=\"reportContentRef\"\r\n                    v-html=\"processReportContent(fatigueTestStore.detailedReport)\"\r\n                    class=\"report-text-enhanced\"\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- 右侧装饰条 -->\r\n              <div class=\"right-decoration\">\r\n                <div class=\"decoration-shape shape-1\"></div>\r\n                <div class=\"decoration-shape shape-2\"></div>\r\n                <div class=\"decoration-shape shape-3\"></div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 底部装饰区域 -->\r\n            <div class=\"report-footer-decoration\">\r\n              <div class=\"footer-pattern\"></div>\r\n              <div class=\"footer-content\">\r\n                <div class=\"footer-divider\"></div>\r\n                <p class=\"footer-text\">\r\n                  <span class=\"footer-icon\">💡</span>\r\n                  本报告基于情绪疲惫度评估体系生成，建议结合专业心理咨询师指导进行解读\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 没有结果时的提示 -->\r\n    <div v-else class=\"max-w-2xl mx-auto px-4 py-16 text-center\">\r\n      <div class=\"result-card\">\r\n        <div class=\"text-gray-500\">\r\n          <svg class=\"w-16 h-16 mx-auto mb-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 01-2 -2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.707-.293H17\" />\r\n          </svg>\r\n          <h3 class=\"text-xl font-semibold mb-2\">未找到测试结果</h3>\r\n          <p class=\"mb-6\">请先完成测试再来查看结果</p>\r\n          <button @click=\"goToTest\" class=\"btn btn-primary\">\r\n            开始测试\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useFatigueTestStore } from '@/stores/fatigueTest'\r\nimport { SCENE_NAMES } from '@/data/questions'\r\nimport type { RecoveryLevel } from '@/types'\r\n\r\nconst router = useRouter()\r\nconst fatigueTestStore = useFatigueTestStore()\r\n\r\nconst result = computed(() => fatigueTestStore.result)\r\n\r\n// 格式化测试时间\r\nconst formatDuration = (seconds: number | null): string => {\r\n  if (seconds === null) return '未知'\r\n  const minutes = Math.floor(seconds / 60)\r\n  const remainingSeconds = seconds % 60\r\n  return remainingSeconds > 0 ? `${minutes}分${remainingSeconds}秒` : `${minutes}分钟`\r\n}\r\n\r\n// 获取场景名称\r\nconst getSceneName = (scene: string): string => {\r\n  const sceneMap = SCENE_NAMES as Record<string, string>\r\n  return sceneMap[scene] || scene\r\n}\r\n\r\n// 获取分数对应的颜色\r\nconst getScoreColor = (score: number): string => {\r\n  if (score >= 4.0) return 'text-red-600 font-bold'\r\n  if (score >= 3.5) return 'text-orange-600 font-semibold'\r\n  if (score >= 2.5) return 'text-yellow-600 font-medium'\r\n  return 'text-green-600'\r\n}\r\n\r\n// 获取分数条颜色\r\nconst getScoreBarColor = (score: number): string => {\r\n  if (score >= 4.0) return 'bg-red-500'\r\n  if (score >= 3.5) return 'bg-orange-500'\r\n  if (score >= 2.5) return 'bg-yellow-500'\r\n  return 'bg-green-500'\r\n}\r\n\r\n// 压力相关的展示方法\r\nconst getPressureLevel = (score: number): string => {\r\n  if (score >= 4.0) return '高压'\r\n  if (score >= 3.2) return '偏高'\r\n  if (score >= 2.4) return '中等'\r\n  return '较低'\r\n}\r\n\r\nconst getPressureLevelClass = (score: number): string => {\r\n  if (score >= 4.0) return 'bg-red-100 text-red-800 border border-red-200'\r\n  if (score >= 3.2) return 'bg-orange-100 text-orange-800 border border-orange-200'\r\n  if (score >= 2.4) return 'bg-yellow-100 text-yellow-800 border border-yellow-200'\r\n  return 'bg-green-100 text-green-800 border border-green-200'\r\n}\r\n\r\n\r\nconst getPressureAdvice = (score: number, scene: string): string => {\r\n  // 获取场景名称用于判断\r\n  const sceneName = getSceneName(scene).toLowerCase()\r\n\r\n  // 工作场景建议\r\n  if (sceneName.includes('工作')) {\r\n    if (score >= 4.0) return '立即暂停手头任务，拆解复杂工作，确保充足睡眠；必要时向领导反映工作量或寻求同事协助'\r\n    if (score >= 3.2) return '合理安排工作优先级，为重要任务预留缓冲时间，主动与团队沟通协作分工'\r\n    if (score >= 2.4) return '采用番茄工作法，定时休息，保持工作节奏，确保基本休息和放松'\r\n    return '保持当前良好习惯，适当安排工作间隙的轻度运动或冥想放松'\r\n  }\r\n\r\n  // 家庭场景建议\r\n  if (sceneName.includes('家庭')) {\r\n    if (score >= 4.0) return '立即与家人沟通当前状态，合理分配家庭责任，必要时寻求亲友帮助或专业家庭咨询'\r\n    if (score >= 3.2) return '明确家庭角色边界，学会适当说\"不\"，建立家庭责任分担机制'\r\n    if (score >= 2.4) return '定期与家人沟通交流，共同制定家庭计划，合理安排家庭和个人时间'\r\n    return '维持和谐的家庭关系，保持良好的家庭沟通习惯'\r\n  }\r\n\r\n  // 社交场景建议\r\n  if (sceneName.includes('社交')) {\r\n    if (score >= 4.0) return '减少不必要的社交活动，专注于核心社交关系，必要时寻求心理咨询师帮助'\r\n    if (score >= 3.2) return '选择性参加社交活动，学会拒绝过度社交邀约，注重社交质量而非数量'\r\n    if (score >= 2.4) return '平衡独处和社交时间，选择让自己舒适的社交场合，设定社交边界'\r\n    return '保持积极的社交状态，继续维护健康的社交关系'\r\n  }\r\n\r\n  // 健康场景建议\r\n  if (sceneName.includes('健康') || sceneName.includes('身体')) {\r\n    if (score >= 4.0) return '立即就医检查身体状态，暂停高强度运动，保证充足睡眠和营养摄入'\r\n    if (score >= 3.2) return '定期体检，合理安排运动强度和时间，保证规律作息和健康饮食'\r\n    if (score >= 2.4) return '坚持适度运动，注意身体信号，保持健康的生活习惯'\r\n    return '继续保持健康生活方式，关注身体状况变化'\r\n  }\r\n\r\n  // 财务场景建议\r\n  if (sceneName.includes('财务') || sceneName.includes('经济')) {\r\n    if (score >= 4.0) return '寻求专业理财师帮助，重新规划财务目标，暂时避免重大财务决策'\r\n    if (score >= 3.2) return '制定详细预算计划，增加收入渠道，控制不必要开支'\r\n    if (score >= 2.4) return '定期检视财务状况，合理规划支出，建立应急储蓄'\r\n    return '保持良好理财习惯，持续关注财务健康'\r\n  }\r\n\r\n  // 学习场景建议\r\n  if (sceneName.includes('学习') || sceneName.includes('成长')) {\r\n    if (score >= 4.0) return '调整学习目标和计划，避免过度学习焦虑，寻求导师或同学的帮助指导'\r\n    if (score >= 3.2) return '制定合理学习计划，采用高效学习方法，寻求学习伙伴支持'\r\n    if (score >= 2.4) return '保持规律的学习节奏，注重劳逸结合，定期复习巩固'\r\n    return '保持学习动力，持续提升专业技能'\r\n  }\r\n\r\n  // 默认建议（如果场景不匹配）\r\n  if (score >= 4.0) return '立即安排短暂停顿，分析压力来源，拆解问题；必要时寻求专业支持和帮助'\r\n  if (score >= 3.2) return '预留充足时间缓冲，明确优先级，主动寻求他人协助和建议'\r\n  if (score >= 2.4) return '保持良好的节奏和习惯，定期进行自我检查和调整'\r\n  return '维持当前良好状态，注重日常保养和预防'\r\n}\r\n\r\n// 获取心理韧性等级样式\r\nconst getRecoveryLevelClass = (level: RecoveryLevel): string => {\r\n  switch (level) {\r\n    case 'low':\r\n      return 'bg-red-100 text-red-800 border border-red-200'\r\n    case 'medium':\r\n      return 'bg-yellow-100 text-yellow-800 border border-yellow-200'\r\n    case 'high':\r\n      return 'bg-green-100 text-green-800 border border-green-200'\r\n    default:\r\n      return 'bg-gray-100 text-gray-800 border border-gray-200'\r\n  }\r\n}\r\n\r\n// 获取心理韧性分数文本\r\nconst getRecoveryScoreText = (level: RecoveryLevel): string => {\r\n  switch (level) {\r\n    case 'low':\r\n      return '2.5/10'\r\n    case 'medium':\r\n      return '6.5/10'\r\n    case 'high':\r\n      return '8.5/10'\r\n    default:\r\n      return '5.0/10'\r\n  }\r\n}\r\n\r\n// 获取类型描述\r\nconst getTypeDescription = (typeCode: string): string => {\r\n  const descriptions: Record<string, string> = {\r\n    'type_emotional_overload': '高敏感高共情类型，容易吸收他人情绪而承担心理负担',\r\n    'type_responsibility_trap': '责任绑架型，习惯承担过多责任和义务',\r\n    'type_comparison_anxiety': '对比焦虑型，容易与他人比较而产生自我压力',\r\n    'type_high_pressure_mode': '高压运转型，习惯高强度快节奏的工作生活模式'\r\n  }\r\n  return descriptions[typeCode] || '综合压力型'\r\n}\r\n\r\n// 获取心理韧性描述\r\nconst getRecoveryDescription = (level: RecoveryLevel): string => {\r\n  switch (level) {\r\n    case 'low':\r\n      return '您的心理韧性较低，在面对压力时容易感到疲惫，建议积极学习压力管理技巧，必要时寻求专业支持来提升应对能力。'\r\n    case 'medium':\r\n      return '您的心理韧性处于中等水平，有一定的抗压能力，但在持续压力下仍可能出现疲惫。建议加强自我调节训练，建立更好的压力应对机制。'\r\n    case 'high':\r\n      return '您的心理韧性较强，能够在面对压力时保持相对稳定的情绪状态，并具备良好的自我调节能力。建议继续保持现有的压力管理习惯。'\r\n    default:\r\n      return '您的心理韧性水平正常，建议关注自身压力状态，适时进行调整和恢复。'\r\n  }\r\n}\r\n\r\n// 获取疲惫类型的典型表现\r\nconst getTypeManifestations = (typeCode: string): string[] => {\r\n  const manifestations: Record<string, string[]> = {\r\n    'type_emotional_overload': [\r\n      '容易被他人情绪影响，感到情绪负担重',\r\n      '在团队中经常承担\"情绪垃圾桶\"角色',\r\n      '下班后仍难以从工作压力中抽离',\r\n      '过度共情导致个人边界模糊'\r\n    ],\r\n    'type_responsibility_trap': [\r\n      '习惯性承担超出职责范围的工作',\r\n      '难以拒绝他人的请求，害怕让他人失望',\r\n      '凡事亲力亲为，不善于 delegating',\r\n      '责任感过强，自我要求过高'\r\n    ],\r\n    'type_comparison_anxiety': [\r\n      '频繁与他人比较，产生自我怀疑',\r\n      '过度关注他人的成就和评价',\r\n      '社交媒体使用后感到焦虑和不足',\r\n      '对自己要求过高，追求完美主义'\r\n    ],\r\n    'type_high_pressure_mode': [\r\n      '习惯高强度快节奏的工作生活方式',\r\n      '难以放松，总觉得有事情需要处理',\r\n      '长期处于\"战斗或逃跑\"的应激状态',\r\n      '忽略了身体和心理的恢复需求'\r\n    ]\r\n  }\r\n  return manifestations[typeCode] || ['表现出综合性的压力症状', '工作和生活平衡失调', '需要全面提升自我管理能力']\r\n}\r\n\r\n// 获取疲惫类型的改善建议\r\nconst getTypeImprovementAdvice = (typeCode: string): string[] => {\r\n  const advice: Record<string, string[]> = {\r\n    'type_emotional_overload': [\r\n      '建立情绪边界，学会适度共情',\r\n      '定期进行情绪释放活动（运动、冥想）',\r\n      '培养理性思考习惯，减少情绪内耗'\r\n    ],\r\n    'type_responsibility_trap': [\r\n      '学会合理拒绝，明确个人边界',\r\n      '培养团队协作意识，合理分配任务',\r\n      '调整完美主义倾向，接受\"足够好\"的标准'\r\n    ],\r\n    'type_comparison_anxiety': [\r\n      '专注于个人成长，而非外在比较',\r\n      '减少社交媒体使用时间，培养现实社交',\r\n      '建立自我价值感，基于内在标准而非外界评价'\r\n    ],\r\n    'type_high_pressure_mode': [\r\n      '刻意练习放慢节奏，培养耐心',\r\n      '建立规律的作息和运动习惯',\r\n      '学会识别和尊重身体的疲劳信号'\r\n    ]\r\n  }\r\n  return advice[typeCode] || ['建立健康的生活节奏', '学习压力管理技巧', '培养自我关怀的习惯']\r\n}\r\n\r\n// 获取心理韧性指标数据\r\nconst getResilienceMetrics = (level: RecoveryLevel) => {\r\n  const baseMetrics = {\r\n    emotional: level === 'high' ? 4 : level === 'medium' ? 3 : 2,\r\n    recovery: level === 'high' ? 4 : level === 'medium' ? 2 : 1,\r\n    problem_solving: level === 'high' ? 4 : level === 'medium' ? 3 : 2,\r\n    social_support: level === 'high' ? 3 : level === 'medium' ? 3 : 2\r\n  }\r\n\r\n  return baseMetrics\r\n}\r\n\r\n// 获取心理韧性提升建议\r\nconst getResilienceImprovement = (level: RecoveryLevel): string[] => {\r\n  switch (level) {\r\n    case 'low':\r\n      return [\r\n        '加强正念冥想训练，提升情绪觉察',\r\n        '建立完善的社会支持网络',\r\n        '学习专业的压力管理技巧',\r\n        '培养健康的生活习惯'\r\n      ]\r\n    case 'medium':\r\n      return [\r\n        '深化情绪调节技能训练',\r\n        '扩大社交支持系统',\r\n        '定期进行自我反思和成长',\r\n        '建立更有效的应对机制'\r\n      ]\r\n    case 'high':\r\n      return [\r\n        '继续保持现有的良好习惯',\r\n        '学习更高级的压力管理技巧',\r\n        '帮助他人建立心理韧性',\r\n        '追求更高层次的心理健康'\r\n      ]\r\n    default:\r\n      return [\r\n        '关注自身心理状态变化',\r\n        '建立基础的压力管理习惯',\r\n        '培养积极的思维模式'\r\n      ]\r\n  }\r\n}\r\n\r\n// 疲惫匹配度等级转换\r\nconst getMatchLevel = (score: number) => {\r\n  if (score >= 90) return { level: '高度匹配', color: 'green', textColor: 'text-green-600', barColor: 'bg-green-500' }\r\n  if (score >= 75) return { level: '较好匹配', color: 'blue', textColor: 'text-blue-600', barColor: 'bg-blue-500' }\r\n  if (score >= 60) return { level: '一般匹配', color: 'yellow', textColor: 'text-yellow-600', barColor: 'bg-yellow-500' }\r\n  return { level: '匹配度低', color: 'gray', textColor: 'text-gray-600', barColor: 'bg-gray-500' }\r\n}\r\n\r\n// 工作压力等级转换 (基于5分制)\r\nconst getWorkPressureLevel = (score: number) => {\r\n  if (score >= 4.0) return { level: '高压状态', color: 'red', textColor: 'text-red-600', barColor: 'bg-red-500', percentage: (score / 5) * 100 }\r\n  if (score >= 3.0) return { level: '中等偏高', color: 'orange', textColor: 'text-orange-600', barColor: 'bg-orange-500', percentage: (score / 5) * 100 }\r\n  if (score >= 2.0) return { level: '中等水平', color: 'yellow', textColor: 'text-yellow-600', barColor: 'bg-yellow-500', percentage: (score / 5) * 100 }\r\n  return { level: '压力较低', color: 'green', textColor: 'text-green-600', barColor: 'bg-green-500', percentage: (score / 5) * 100 }\r\n}\r\n\r\n// 心理韧性等级转换 (基于10分制)\r\nconst getResilienceLevelInfo = (level: RecoveryLevel) => {\r\n  switch (level) {\r\n    case 'high':\r\n      return { level: '韧性较强', textColor: 'text-green-600', barColor: 'bg-green-500', percentage: 85 }\r\n    case 'medium':\r\n      return { level: '韧性中等', textColor: 'text-yellow-600', barColor: 'bg-yellow-500', percentage: 65 }\r\n    case 'low':\r\n      return { level: '韧性较弱', textColor: 'text-red-600', barColor: 'bg-red-500', percentage: 25 }\r\n    default:\r\n      return { level: '韧性一般', textColor: 'text-gray-600', barColor: 'bg-gray-500', percentage: 50 }\r\n  }\r\n}\r\n\r\n// 重新测试\r\nconst restartTest = () => {\r\n  fatigueTestStore.restart()\r\n  router.push('/')\r\n}\r\n\r\n// 处理报告内容，优化行为模式分析的布局\r\nconst processReportContent = (htmlContent: string): string => {\r\n  if (!htmlContent) return ''\r\n\r\n  try {\r\n    // 查找\"行为模式深度解读\"相关内容并创建平行布局\r\n    let processedHtml = htmlContent\r\n\r\n    // 使用更可靠的正则表达式来找到\"行为模式深度解读\"部分\r\n    const behaviorPatternSection = htmlContent.match(/(<h[^>]*>.*?行为模式深度解读.*?<\\/h[^>]*>[\\s\\S]*?)(?=<h[^>]*>|$)/i)\r\n\r\n    if (behaviorPatternSection) {\r\n      console.log('找到行为模式深度解读部分')\r\n      let sectionContent = behaviorPatternSection[1]\r\n\r\n      // 查找该部分中的所有列表\r\n      const lists = sectionContent.match(/<ul[\\s\\S]*?<\\/ul>/gi)\r\n\r\n      if (lists && lists.length >= 2) {\r\n        console.log('找到列表数量:', lists.length)\r\n\r\n        // 创建平行布局的HTML，包含响应式样式\r\n        const parallelListsHtml = `\r\n          <div class=\"behavior-pattern-grid\" style=\"\r\n            display: grid;\r\n            grid-template-columns: 1fr 1fr;\r\n            gap: 2rem;\r\n            margin: 2rem 0;\r\n            width: 100% !important;\r\n            max-width: 100% !important;\r\n            min-width: 100% !important;\r\n            flex: 1 1 0%;\r\n            box-sizing: border-box;\r\n            position: relative;\r\n          \" class=\"responsive-grid\">\r\n            <style>\r\n              @media (max-width: 768px) {\r\n                .responsive-grid {\r\n                  grid-template-columns: 1fr !important;\r\n                  gap: 1.5rem !important;\r\n                  margin: 1.5rem 0 !important;\r\n                }\r\n                .responsive-grid .behavior-cycle-card,\r\n                .responsive-grid .cognitive-bias-card {\r\n                  padding: 1.25rem !important;\r\n                }\r\n                .responsive-grid h4 {\r\n                  font-size: 1rem !important;\r\n                }\r\n              }\r\n            </style>\r\n            <div class=\"behavior-cycle-card\" style=\"\r\n              background: linear-gradient(135deg,\r\n                rgba(255, 255, 255, 0.95) 0%,\r\n                rgba(248, 250, 252, 0.9) 100%\r\n              );\r\n              border: 2px solid transparent;\r\n              border-image: linear-gradient(135deg, #3b82f6, #8b5cf6) 1;\r\n              border-radius: 16px;\r\n              padding: 1.75rem;\r\n              box-shadow:\r\n                0 8px 32px rgba(59, 130, 246, 0.15),\r\n                0 4px 16px rgba(139, 92, 246, 0.1),\r\n                inset 0 1px 0 rgba(255, 255, 255, 0.8);\r\n              position: relative;\r\n              overflow: hidden;\r\n              width: 100%;\r\n              box-sizing: border-box;\r\n              min-width: 0;\r\n              flex: 1;\r\n            \">\r\n              <div style=\"\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                right: 0;\r\n                height: 4px;\r\n                background: linear-gradient(90deg, #3b82f6, #8b5cf6, #3b82f6);\r\n                opacity: 0.8;\r\n              \"></div>\r\n              <h4 style=\"\r\n                color: #1e40af;\r\n                font-size: 1.25rem;\r\n                font-weight: 700;\r\n                margin: 0 0 1.5rem 0;\r\n                padding: 0.5rem 0;\r\n                text-align: center;\r\n                background: linear-gradient(135deg, #1e40af, #3b82f6);\r\n                -webkit-background-clip: text;\r\n                -webkit-text-fill-color: transparent;\r\n                background-clip: text;\r\n                position: relative;\r\n              \">\r\n                🔄 典型行为循环\r\n              </h4>\r\n              ${lists[0].replace(/<ul[^>]*>/g, '<ul style=\"margin: 0; padding: 0; list-style: none; width: 100%;\">').replace(/<li>/g, '<li style=\"background: rgba(59, 130, 246, 0.05); border-left: 3px solid #3b82f6; border-radius: 8px; padding: 0.75rem 1rem; margin: 0.5rem 0; font-size: 0.875rem; line-height: 1.5; word-wrap: break-word; overflow-wrap: break-word;\">')}\r\n            </div>\r\n            <div class=\"cognitive-bias-card\" style=\"\r\n              background: linear-gradient(135deg,\r\n                rgba(255, 255, 255, 0.95) 0%,\r\n                rgba(248, 250, 252, 0.9) 100%\r\n              );\r\n              border: 2px solid transparent;\r\n              border-image: linear-gradient(135deg, #ec4899, #f43f5e) 1;\r\n              border-radius: 16px;\r\n              padding: 1.75rem;\r\n              box-shadow:\r\n                0 8px 32px rgba(236, 72, 153, 0.15),\r\n                0 4px 16px rgba(244, 63, 94, 0.1),\r\n                inset 0 1px 0 rgba(255, 255, 255, 0.8);\r\n              position: relative;\r\n              overflow: hidden;\r\n              width: 100%;\r\n              box-sizing: border-box;\r\n              min-width: 0;\r\n              flex: 1;\r\n            \">\r\n              <div style=\"\r\n                position: absolute;\r\n                top: 0;\r\n                left: 0;\r\n                right: 0;\r\n                height: 4px;\r\n                background: linear-gradient(90deg, #ec4899, #f43f5e, #ec4899);\r\n                opacity: 0.8;\r\n              \"></div>\r\n              <h4 style=\"\r\n                color: #be185d;\r\n                font-size: 1.25rem;\r\n                font-weight: 700;\r\n                margin: 0 0 1.5rem 0;\r\n                padding: 0.5rem 0;\r\n                text-align: center;\r\n                background: linear-gradient(135deg, #be185d, #ec4899);\r\n                -webkit-background-clip: text;\r\n                -webkit-text-fill-color: transparent;\r\n                background-clip: text;\r\n                position: relative;\r\n              \">\r\n                🧠 认知偏差识别\r\n              </h4>\r\n              ${lists[1].replace(/<ul[^>]*>/g, '<ul style=\"margin: 0; padding: 0; list-style: none; width: 100%;\">').replace(/<li>/g, '<li style=\"background: rgba(236, 72, 153, 0.05); border-left: 3px solid #ec4899; border-radius: 8px; padding: 0.75rem 1rem; margin: 0.5rem 0; font-size: 0.875rem; line-height: 1.5; word-wrap: break-word; overflow-wrap: break-word;\">')}\r\n            </div>\r\n          </div>\r\n        `\r\n\r\n        // 替换原有的列表部分\r\n        const sectionStart = behaviorPatternSection.index || 0\r\n        const sectionEnd = sectionStart + behaviorPatternSection[0].length\r\n\r\n        const originalSection = htmlContent.substring(sectionStart, sectionEnd)\r\n        const newSection = originalSection.replace(/<h[^>]*>.*?行为模式深度解读.*?<\\/h[^>]*>[\\s\\S]*?(?=<h[^>]*>|$)/i,\r\n          `$1${parallelListsHtml}`)\r\n\r\n        processedHtml = htmlContent.substring(0, sectionStart) + newSection + htmlContent.substring(sectionEnd)\r\n      }\r\n    }\r\n\r\n    return processedHtml\r\n  } catch (error) {\r\n    console.error('处理报告内容时出错:', error)\r\n    return htmlContent\r\n  }\r\n}\r\n\r\n// 跳转到测试页面\r\nconst goToTest = () => {\r\n  router.push('/')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 基础动画 */\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.animate-fade-in {\r\n  animation: fadeIn 0.6s ease-out forwards;\r\n  opacity: 0;\r\n}\r\n\r\n/* 进度条增强样式 */\r\n.metric-progress-bar {\r\n  @apply w-full bg-gray-200 rounded-full h-3 overflow-hidden;\r\n  position: relative;\r\n}\r\n\r\n.metric-progress-fill {\r\n  @apply h-full rounded-full transition-all duration-700 ease-out;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.metric-progress-fill::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(90deg,\r\n    rgba(255, 255, 255, 0) 0%,\r\n    rgba(255, 255, 255, 0.3) 50%,\r\n    rgba(255, 255, 255, 0) 100%);\r\n  animation: shimmer 2s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0% {\r\n    transform: translateX(-100%);\r\n  }\r\n  100% {\r\n    transform: translateX(100%);\r\n  }\r\n}\r\n\r\n/* 进度条颜色增强 */\r\n.bg-green-500 {\r\n  background: linear-gradient(90deg, #10b981 0%, #059669 100%);\r\n}\r\n\r\n.bg-blue-500 {\r\n  background: linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%);\r\n}\r\n\r\n.bg-orange-500 {\r\n  background: linear-gradient(90deg, #f97316 0%, #ea580c 100%);\r\n}\r\n\r\n.bg-yellow-500 {\r\n  background: linear-gradient(90deg, #eab308 0%, #ca8a04 100%);\r\n}\r\n\r\n.bg-red-500 {\r\n  background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);\r\n}\r\n\r\n.bg-gray-500 {\r\n  background: linear-gradient(90deg, #6b7280 0%, #4b5563 100%);\r\n}\r\n\r\n/* 原有的按钮样式 */\r\n.btn {\r\n  padding: 8px 16px;\r\n  border-radius: 6px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn-primary {\r\n  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background: linear-gradient(135deg, #2c5aa0 0%, #1a3a6e 100%);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.btn-secondary {\r\n  background: white;\r\n  color: #4b5563;\r\n  border: 2px solid #e5e7eb;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background: #f9fafb;\r\n  border-color: #3b82f6;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n/* 疲惫等级样式 */\r\n.fatigue-low {\r\n  @apply bg-green-100 text-green-800 border border-green-200;\r\n}\r\n\r\n.fatigue-medium {\r\n  @apply bg-yellow-100 text-yellow-800 border border-yellow-200;\r\n}\r\n\r\n.fatigue-high {\r\n  @apply bg-orange-100 text-orange-800 border border-orange-200;\r\n}\r\n\r\n.fatigue-severe {\r\n  @apply bg-red-100 text-red-800 border border-red-200;\r\n}\r\n\r\n/* 分析卡片样式 */\r\n.analysis-card {\r\n  @apply bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden;\r\n  min-height: 280px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n/* 不同分析卡片的特殊背景 */\r\n.analysis-card:nth-child(1) {\r\n  @apply bg-gradient-to-br from-blue-50 via-white to-indigo-50 border-blue-200;\r\n}\r\n\r\n.analysis-card:nth-child(2) {\r\n  @apply bg-gradient-to-br from-orange-50 via-white to-amber-50 border-orange-200;\r\n}\r\n\r\n.analysis-card:nth-child(3) {\r\n  @apply bg-gradient-to-br from-green-50 via-white to-emerald-50 border-green-200;\r\n}\r\n\r\n.card-header {\r\n  @apply px-6 py-4 border-b flex items-center gap-3;\r\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\r\n}\r\n\r\n.header-dot {\r\n  @apply w-2 h-2 rounded-full;\r\n}\r\n\r\n.card-title {\r\n  @apply text-lg font-semibold text-gray-900;\r\n}\r\n\r\n.card-content {\r\n  @apply p-5 flex-1 space-y-3;\r\n}\r\n\r\n/* 疲惫类型分析样式 */\r\n.type-item {\r\n  @apply p-3 rounded-lg border-l-4;\r\n}\r\n\r\n.type-item.primary {\r\n  @apply bg-blue-50 border-blue-200;\r\n}\r\n\r\n.type-item.secondary {\r\n  @apply bg-gray-50 border-gray-200;\r\n}\r\n\r\n.type-header {\r\n  @apply flex items-center justify-between mb-2;\r\n}\r\n\r\n.type-name {\r\n  @apply font-semibold text-gray-900;\r\n}\r\n\r\n.type-badge {\r\n  @apply px-2 py-1 text-xs font-medium rounded-full;\r\n}\r\n\r\n.type-badge.primary {\r\n  @apply bg-blue-100 text-blue-800;\r\n}\r\n\r\n.type-badge.secondary {\r\n  @apply bg-gray-100 text-gray-800;\r\n}\r\n\r\n.type-description {\r\n  @apply text-base text-gray-700 leading-relaxed;\r\n}\r\n\r\n/* 疲惫类型分析新增样式 */\r\n.type-section {\r\n  @apply mt-4 pt-3 border-t border-gray-100;\r\n}\r\n\r\n.section-title {\r\n  @apply text-base font-semibold text-gray-800 mb-2;\r\n}\r\n\r\n.feature-list {\r\n  @apply space-y-1;\r\n}\r\n\r\n.feature-list li {\r\n  @apply text-sm text-gray-600 pl-4 relative;\r\n}\r\n\r\n.feature-list li::before {\r\n  content: '•';\r\n  @apply absolute left-0 text-gray-400;\r\n}\r\n\r\n.advice-list {\r\n  @apply space-y-1;\r\n}\r\n\r\n.advice-list li {\r\n  @apply text-sm text-gray-600 pl-4 relative;\r\n}\r\n\r\n.advice-list li::before {\r\n  content: '→';\r\n  @apply absolute left-0 text-gray-400;\r\n}\r\n\r\n/* 场景压力分析样式 */\r\n.scene-item {\r\n  @apply space-y-2 pb-3 border-b border-gray-100 last:border-b-0 last:pb-0;\r\n}\r\n\r\n.scene-header {\r\n  @apply flex items-center justify-between;\r\n}\r\n\r\n.scene-name {\r\n  @apply font-medium text-gray-800 text-base;\r\n}\r\n\r\n.scene-score {\r\n  @apply flex items-center gap-2;\r\n}\r\n\r\n.score-text {\r\n  @apply text-base font-medium;\r\n}\r\n\r\n.pressure-badge {\r\n  @apply px-2 py-1 text-xs font-medium rounded-full;\r\n}\r\n\r\n.progress-bar {\r\n  @apply w-full bg-gray-200 rounded-full h-2;\r\n}\r\n\r\n.progress-fill {\r\n  @apply h-full rounded-full transition-all duration-300 ease-out;\r\n}\r\n\r\n.scene-advice {\r\n  @apply text-sm text-gray-600 leading-relaxed;\r\n}\r\n\r\n/* 心理韧性评估样式 */\r\n.recovery-result {\r\n  @apply text-center space-y-3;\r\n}\r\n\r\n.recovery-badge {\r\n  @apply inline-flex items-center px-4 py-2 rounded-full text-base font-medium;\r\n}\r\n\r\n.recovery-description {\r\n  @apply text-base text-gray-700 leading-relaxed text-left;\r\n}\r\n\r\n/* 韧性指标样式 */\r\n.metrics-section {\r\n  @apply mt-2 pt-1 border-t border-gray-100;\r\n}\r\n\r\n.metrics-grid {\r\n  @apply grid grid-cols-1 gap-2;\r\n}\r\n\r\n.metric-item {\r\n  @apply flex items-center justify-between p-2 bg-gray-50 rounded-lg;\r\n}\r\n\r\n.metric-label {\r\n  @apply text-sm font-medium text-gray-700;\r\n}\r\n\r\n.metric-stars {\r\n  @apply flex gap-0.5;\r\n}\r\n\r\n.star {\r\n  @apply text-xs text-gray-300;\r\n}\r\n\r\n.star.filled {\r\n  @apply text-yellow-400;\r\n}\r\n\r\n/* 提升建议样式 */\r\n.improvement-section {\r\n  @apply mt-4 pt-3 border-t border-gray-100;\r\n}\r\n\r\n.improvement-list {\r\n  @apply space-y-1;\r\n}\r\n\r\n.improvement-list li {\r\n  @apply text-sm text-gray-600 pl-4 relative;\r\n}\r\n\r\n.improvement-list li::before {\r\n  content: '✓';\r\n  @apply absolute left-0 text-green-500;\r\n}\r\n\r\n/* 增强版专业建议部分样式 */\r\n.professional-advice-enhanced {\r\n  background: linear-gradient(145deg,\r\n    #f0f9ff 0%,\r\n    #e0f2fe 15%,\r\n    #f8fafc 30%,\r\n    #ffffff 50%,\r\n    #faf5ff 70%,\r\n    #f3e8ff 85%,\r\n    #fef7ff 100%\r\n  ) !important;\r\n  border: 2px solid transparent !important;\r\n  background-clip: padding-box !important;\r\n  position: relative !important;\r\n  border-radius: 1.25rem !important;\r\n  overflow: hidden !important;\r\n  box-shadow:\r\n    0 20px 25px -5px rgba(0, 0, 0, 0.1),\r\n    0 10px 10px -5px rgba(0, 0, 0, 0.04),\r\n    inset 0 0 0 1px rgba(255, 255, 255, 0.1) !important;\r\n}\r\n\r\n.professional-advice-enhanced::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(135deg,\r\n    rgba(59, 130, 246, 0.05) 0%,\r\n    rgba(147, 51, 234, 0.05) 50%,\r\n    rgba(59, 130, 246, 0.05) 100%\r\n  );\r\n  z-index: -1;\r\n}\r\n\r\n/* 装饰性标题区域 */\r\n.report-header-decoration {\r\n  position: relative;\r\n  padding: 2.5rem 2rem 1.5rem;\r\n  background: linear-gradient(135deg,\r\n    rgba(255, 255, 255, 0.9) 0%,\r\n    rgba(248, 250, 252, 0.8) 100%\r\n  );\r\n  border-bottom: 1px solid rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n.header-pattern {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 4px;\r\n  background: linear-gradient(90deg,\r\n    #3b82f6 0%,\r\n    #8b5cf6 25%,\r\n    #ec4899 50%,\r\n    #8b5cf6 75%,\r\n    #3b82f6 100%\r\n  );\r\n  opacity: 0.8;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1.5rem;\r\n  max-width: 40rem;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  flex-direction: column;\r\n}\r\n\r\n.header-icon {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 4rem;\r\n  height: 4rem;\r\n}\r\n\r\n.icon-ring {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 3px solid transparent;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6) border-box;\r\n  mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);\r\n  mask-composite: exclude;\r\n  animation: rotate 8s linear infinite;\r\n}\r\n\r\n@keyframes rotate {\r\n  from { transform: rotate(0deg); }\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.icon-emoji {\r\n  font-size: 2rem;\r\n  z-index: 1;\r\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.header-text {\r\n  flex: 1;\r\n}\r\n\r\n.report-title {\r\n  font-size: 1.75rem;\r\n  font-weight: 700;\r\n  color: #1e293b;\r\n  margin-bottom: 0.5rem;\r\n  background: linear-gradient(135deg, #1e293b 0%, #475569 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n.report-subtitle {\r\n  color: #64748b;\r\n  font-size: 0.95rem;\r\n  margin-bottom: 1rem;\r\n  line-height: 1.5;\r\n}\r\n\r\n.header-badges {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.badge {\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 9999px;\r\n  font-size: 0.75rem;\r\n  font-weight: 500;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.badge.professional {\r\n  background: linear-gradient(135deg, #dbeafe, #bfdbfe);\r\n  color: #1e40af;\r\n  border: 1px solid #93c5fd;\r\n}\r\n\r\n.badge.personalized {\r\n  background: linear-gradient(135deg, #f3e8ff, #e9d5ff);\r\n  color: #7c3aed;\r\n  border: 1px solid #c4b5fd;\r\n}\r\n\r\n.badge.comprehensive {\r\n  background: linear-gradient(135deg, #dcfce7, #bbf7d0);\r\n  color: #15803d;\r\n  border: 1px solid #86efac;\r\n}\r\n\r\n/* 主要内容区域 */\r\n.report-main-content {\r\n  padding: 0;\r\n}\r\n\r\n.content-wrapper {\r\n  display: block;\r\n  padding: 2rem;\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* 左侧装饰条 */\r\n.left-decoration {\r\n  position: absolute;\r\n  left: -2rem;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n  padding: 1rem 0;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n}\r\n\r\n.decoration-dot {\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.decoration-dot.dot-1 {\r\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\r\n  box-shadow: 0 0 12px rgba(59, 130, 246, 0.4);\r\n}\r\n\r\n.decoration-dot.dot-2 {\r\n  background: linear-gradient(135deg, #8b5cf6, #7c3aed);\r\n  box-shadow: 0 0 12px rgba(139, 92, 246, 0.4);\r\n}\r\n\r\n.decoration-dot.dot-3 {\r\n  background: linear-gradient(135deg, #ec4899, #db2777);\r\n  box-shadow: 0 0 12px rgba(236, 72, 153, 0.4);\r\n}\r\n\r\n.decoration-line {\r\n  width: 2px;\r\n  flex: 1;\r\n  background: linear-gradient(180deg,\r\n    rgba(59, 130, 246, 0.3) 0%,\r\n    rgba(139, 92, 246, 0.3) 50%,\r\n    rgba(236, 72, 153, 0.3) 100%\r\n  );\r\n  border-radius: 1px;\r\n  min-height: 60px;\r\n}\r\n\r\n/* 增强的报告内容 */\r\n.report-content-enhanced {\r\n  background: rgba(255, 255, 255, 0.7);\r\n  backdrop-filter: blur(10px);\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 1rem;\r\n  padding: 2rem;\r\n  box-shadow:\r\n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\r\n    0 4px 6px -2px rgba(0, 0, 0, 0.05),\r\n    inset 0 0 0 1px rgba(255, 255, 255, 0.2);\r\n  position: relative;\r\n  width: 100%;\r\n  min-width: 0;\r\n  max-width: 100%;\r\n  flex: 1 1 0%;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.report-content-enhanced::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(135deg,\r\n    rgba(255, 255, 255, 0.1) 0%,\r\n    rgba(255, 255, 255, 0) 100%\r\n  );\r\n  border-radius: 1rem;\r\n  pointer-events: none;\r\n}\r\n\r\n.content-inner {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.report-text-enhanced {\r\n  line-height: 1.7;\r\n  color: #374151;\r\n}\r\n\r\n/* 右侧装饰条 */\r\n.right-decoration {\r\n  position: absolute;\r\n  right: -2rem;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  padding: 1rem 0;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n}\r\n\r\n.decoration-shape {\r\n  transition: all 0.3s;\r\n}\r\n\r\n.decoration-shape.shape-1 {\r\n  width: 12px;\r\n  height: 12px;\r\n  background: linear-gradient(135deg, #fbbf24, #f59e0b);\r\n  border-radius: 3px;\r\n  transform: rotate(45deg);\r\n  box-shadow: 0 0 10px rgba(251, 191, 36, 0.3);\r\n}\r\n\r\n.decoration-shape.shape-2 {\r\n  width: 16px;\r\n  height: 16px;\r\n  background: linear-gradient(135deg, #34d399, #10b981);\r\n  border-radius: 50%;\r\n  box-shadow: 0 0 10px rgba(52, 211, 153, 0.3);\r\n}\r\n\r\n.decoration-shape.shape-3 {\r\n  width: 10px;\r\n  height: 20px;\r\n  background: linear-gradient(135deg, #f87171, #ef4444);\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 10px rgba(248, 113, 113, 0.3);\r\n}\r\n\r\n/* 底部装饰区域 */\r\n.report-footer-decoration {\r\n  background: linear-gradient(135deg,\r\n    rgba(248, 250, 252, 0.9) 0%,\r\n    rgba(241, 245, 249, 0.8) 100%\r\n  );\r\n  border-top: 1px solid rgba(59, 130, 246, 0.1);\r\n  padding: 1.5rem 2rem;\r\n  text-align: center;\r\n}\r\n\r\n.footer-pattern {\r\n  height: 2px;\r\n  background: linear-gradient(90deg,\r\n    transparent 0%,\r\n    rgba(59, 130, 246, 0.2) 20%,\r\n    rgba(139, 92, 246, 0.2) 50%,\r\n    rgba(59, 130, 246, 0.2) 80%,\r\n    transparent 100%\r\n  );\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.footer-divider {\r\n  width: 60px;\r\n  height: 1px;\r\n  background: linear-gradient(90deg,\r\n    transparent 0%,\r\n    rgba(100, 116, 139, 0.5) 50%,\r\n    transparent 100%\r\n  );\r\n  margin: 0 auto 1rem;\r\n}\r\n\r\n.footer-text {\r\n  color: #64748b;\r\n  font-size: 0.85rem;\r\n  line-height: 1.5;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.footer-icon {\r\n  font-size: 1rem;\r\n  opacity: 0.8;\r\n}\r\n\r\n/* 优化报告内容的文字样式 - 使用更强的选择器确保v-html内容样式生效 */\r\n.report-text-enhanced :deep(h1),\r\n.report-text-enhanced :deep(h2),\r\n.report-text-enhanced :deep(h3),\r\n.report-text-enhanced :deep(h4),\r\n.report-text-enhanced :deep(h5),\r\n.report-text-enhanced :deep(h6) {\r\n  color: #1e293b !important;\r\n  font-weight: 700 !important;\r\n  margin-bottom: 1.25rem !important;\r\n  line-height: 1.3 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(h1) {\r\n  font-size: 1.75rem !important;\r\n  color: #0f172a !important;\r\n  border-bottom: 2px solid #e2e8f0 !important;\r\n  padding-bottom: 0.5rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(h2) {\r\n  font-size: 1.5rem !important;\r\n  color: #1e293b !important;\r\n  border-bottom: 1px solid #e2e8f0 !important;\r\n  padding-bottom: 0.25rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(h3) {\r\n  font-size: 1.25rem !important;\r\n  color: #334155 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(h4) {\r\n  font-size: 1.1rem !important;\r\n  color: #475569 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(h5) {\r\n  font-size: 1rem !important;\r\n  color: #64748b !important;\r\n}\r\n\r\n.report-text-enhanced :deep(h6) {\r\n  font-size: 0.9rem !important;\r\n  color: #64748b !important;\r\n}\r\n\r\n.report-text-enhanced :deep(p) {\r\n  color: #374151 !important;\r\n  line-height: 1.7 !important;\r\n  margin-bottom: 1.25rem !important;\r\n  text-align: justify !important;\r\n  font-size: 1rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(ul),\r\n.report-text-enhanced :deep(ol) {\r\n  margin-bottom: 1.25rem !important;\r\n  padding-left: 1.5rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(li) {\r\n  color: #374151 !important;\r\n  line-height: 1.7 !important;\r\n  margin-bottom: 0.5rem !important;\r\n  font-size: 1rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(strong),\r\n.report-text-enhanced :deep(b) {\r\n  color: #1e293b !important;\r\n  font-weight: 600 !important;\r\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1)) !important;\r\n  padding: 0.125rem 0.25rem !important;\r\n  border-radius: 0.25rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(blockquote) {\r\n  border-left: 4px solid #3b82f6 !important;\r\n  padding: 1rem 1.5rem !important;\r\n  margin: 1.5rem 0 !important;\r\n  background: linear-gradient(135deg, #f8fafc, #f1f5f9) !important;\r\n  border-radius: 0.5rem !important;\r\n  color: #475569 !important;\r\n  font-style: italic !important;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;\r\n}\r\n\r\n.report-text-enhanced :deep(code) {\r\n  background: linear-gradient(135deg, #f1f5f9, #e2e8f0) !important;\r\n  padding: 0.25rem 0.5rem !important;\r\n  border-radius: 0.25rem !important;\r\n  font-size: 0.875rem !important;\r\n  color: #1e293b !important;\r\n  border: 1px solid #cbd5e1 !important;\r\n  font-family: 'Courier New', monospace !important;\r\n}\r\n\r\n.report-text-enhanced :deep(pre) {\r\n  background: #1e293b !important;\r\n  color: #f8fafc !important;\r\n  padding: 1rem !important;\r\n  border-radius: 0.5rem !important;\r\n  overflow-x: auto !important;\r\n  margin: 1rem 0 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(pre code) {\r\n  background: none !important;\r\n  border: none !important;\r\n  color: inherit !important;\r\n  padding: 0 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(hr) {\r\n  border: none !important;\r\n  height: 2px !important;\r\n  background: linear-gradient(90deg, transparent, #e2e8f0, transparent) !important;\r\n  margin: 2rem 0 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(table) {\r\n  width: 100% !important;\r\n  border-collapse: collapse !important;\r\n  margin: 1rem 0 !important;\r\n  background: rgba(255, 255, 255, 0.8) !important;\r\n  border-radius: 0.5rem !important;\r\n  overflow: hidden !important;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;\r\n}\r\n\r\n.report-text-enhanced :deep(th),\r\n.report-text-enhanced :deep(td) {\r\n  padding: 0.75rem 1rem !important;\r\n  text-align: left !important;\r\n  border-bottom: 1px solid #e2e8f0 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(th) {\r\n  background: linear-gradient(135deg, #f8fafc, #f1f5f9) !important;\r\n  font-weight: 600 !important;\r\n  color: #1e293b !important;\r\n}\r\n\r\n.report-text-enhanced :deep(a) {\r\n  color: #3b82f6 !important;\r\n  text-decoration: underline !important;\r\n  transition: color 0.2s !important;\r\n}\r\n\r\n.report-text-enhanced :deep(a:hover) {\r\n  color: #1d4ed8 !important;\r\n  text-decoration: none !important;\r\n}\r\n\r\n/* 行为模式分析区域的平行布局优化 - JavaScript生成结构 */\r\n.report-text-enhanced :deep(.behavior-pattern-grid) {\r\n  display: grid !important;\r\n  grid-template-columns: 1fr 1fr !important;\r\n  gap: 2rem !important;\r\n  margin: 2rem 0 !important;\r\n  align-items: start !important;\r\n  width: 100% !important;\r\n  max-width: 100% !important;\r\n  min-width: 100% !important;\r\n  box-sizing: border-box !important;\r\n  position: relative !important;\r\n  container-type: inline-size !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.behavior-cycle-card),\r\n.report-text-enhanced :deep(.cognitive-bias-card) {\r\n  background: linear-gradient(135deg,\r\n    rgba(255, 255, 255, 0.9) 0%,\r\n    rgba(248, 250, 252, 0.8) 100%\r\n  ) !important;\r\n  border: 1px solid rgba(59, 130, 246, 0.1) !important;\r\n  border-radius: 0.75rem !important;\r\n  padding: 1.5rem !important;\r\n  box-shadow:\r\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\r\n    0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;\r\n  position: relative !important;\r\n  overflow: hidden !important;\r\n  width: 100% !important;\r\n  min-width: 0 !important;\r\n  flex: 1 !important;\r\n  box-sizing: border-box !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.cognitive-bias-card) {\r\n  border-color: rgba(139, 92, 246, 0.1) !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.behavior-cycle-card h4),\r\n.report-text-enhanced :deep(.cognitive-bias-card h4) {\r\n  color: #1e293b !important;\r\n  font-size: 1.125rem !important;\r\n  font-weight: 600 !important;\r\n  margin: 0 0 1rem 0 !important;\r\n  padding: 0 0 0.5rem 0 !important;\r\n  border-bottom: 1px solid #e2e8f0 !important;\r\n  display: flex !important;\r\n  align-items: center !important;\r\n  gap: 0.5rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.behavior-cycle-card ul),\r\n.report-text-enhanced :deep(.cognitive-bias-card ul) {\r\n  margin: 0 !important;\r\n  padding: 0 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.behavior-cycle-card li),\r\n.report-text-enhanced :deep(.cognitive-bias-card li) {\r\n  background: rgba(255, 255, 255, 0.6) !important;\r\n  border-left: 3px solid #3b82f6 !important;\r\n  border-radius: 0.5rem !important;\r\n  padding: 1rem !important;\r\n  margin: 0.75rem 0 !important;\r\n  transition: all 0.2s ease !important;\r\n  list-style: none !important;\r\n  color: #374151 !important;\r\n  font-size: 0.875rem !important;\r\n  line-height: 1.6 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.cognitive-bias-card li) {\r\n  border-left-color: #8b5cf6 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.behavior-cycle-card li:hover),\r\n.report-text-enhanced :deep(.cognitive-bias-card li:hover) {\r\n  background: rgba(255, 255, 255, 0.9) !important;\r\n  border-left-color: #1d4ed8 !important;\r\n  transform: translateX(2px) !important;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.cognitive-bias-card li:hover) {\r\n  border-left-color: #7c3aed !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.behavior-cycle-card li strong),\r\n.report-text-enhanced :deep(.cognitive-bias-card li strong) {\r\n  color: #1e293b !important;\r\n  font-weight: 600 !important;\r\n  background: none !important;\r\n  padding: 0 !important;\r\n  border-radius: 0 !important;\r\n  display: block !important;\r\n  margin-bottom: 0.25rem !important;\r\n  font-size: 0.95rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.behavior-cycle-card li p),\r\n.report-text-enhanced :deep(.cognitive-bias-card li p) {\r\n  color: #64748b !important;\r\n  font-size: 0.875rem !important;\r\n  line-height: 1.6 !important;\r\n  margin: 0 !important;\r\n  text-align: left !important;\r\n}\r\n\r\n/* 行为模式流程图样式 */\r\n.report-text-enhanced :deep(.behavior-flow-diagram) {\r\n  background: linear-gradient(135deg, #f8fafc, #f1f5f9) !important;\r\n  border: 1px solid #e2e8f0 !important;\r\n  border-radius: 0.5rem !important;\r\n  padding: 1rem !important;\r\n  margin: 1rem 0 !important;\r\n  text-align: center !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.flow-step) {\r\n  display: inline-block !important;\r\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;\r\n  color: white !important;\r\n  padding: 0.5rem 1rem !important;\r\n  border-radius: 9999px !important;\r\n  font-size: 0.875rem !important;\r\n  font-weight: 500 !important;\r\n  margin: 0.25rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.flow-arrow) {\r\n  display: inline-block !important;\r\n  color: #94a3b8 !important;\r\n  font-size: 1.2rem !important;\r\n  margin: 0 0.5rem !important;\r\n}\r\n\r\n/* 认知偏差分类标签 */\r\n.report-text-enhanced :deep(.bias-category) {\r\n  display: inline-block !important;\r\n  padding: 0.25rem 0.75rem !important;\r\n  border-radius: 9999px !important;\r\n  font-size: 0.75rem !important;\r\n  font-weight: 500 !important;\r\n  margin-right: 0.5rem !important;\r\n  margin-bottom: 0.25rem !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.bias-category.confirmation) {\r\n  background: linear-gradient(135deg, #fee2e2, #fecaca) !important;\r\n  color: #991b1b !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.bias-category.negativity) {\r\n  background: linear-gradient(135deg, #fef3c7, #fde68a) !important;\r\n  color: #92400e !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.bias-category.perfectionism) {\r\n  background: linear-gradient(135deg, #dbeafe, #bfdbfe) !important;\r\n  color: #1e40af !important;\r\n}\r\n\r\n/* 特殊强调元素 */\r\n.report-text-enhanced :deep(.highlight),\r\n.report-text-enhanced :deep(.important) {\r\n  background: linear-gradient(135deg, #fef3c7, #fde68a) !important;\r\n  padding: 0.25rem 0.5rem !important;\r\n  border-radius: 0.25rem !important;\r\n  border-left: 3px solid #f59e0b !important;\r\n  color: #92400e !important;\r\n  font-weight: 500 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.warning) {\r\n  background: linear-gradient(135deg, #fee2e2, #fecaca) !important;\r\n  padding: 0.75rem !important;\r\n  border-radius: 0.5rem !important;\r\n  border-left: 4px solid #ef4444 !important;\r\n  color: #991b1b !important;\r\n  margin: 1rem 0 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.success) {\r\n  background: linear-gradient(135deg, #dcfce7, #bbf7d0) !important;\r\n  padding: 0.75rem !important;\r\n  border-radius: 0.5rem !important;\r\n  border-left: 4px solid #22c55e !important;\r\n  color: #166534 !important;\r\n  margin: 1rem 0 !important;\r\n}\r\n\r\n.report-text-enhanced :deep(.info) {\r\n  background: linear-gradient(135deg, #dbeafe, #bfdbfe) !important;\r\n  padding: 0.75rem !important;\r\n  border-radius: 0.5rem !important;\r\n  border-left: 4px solid #3b82f6 !important;\r\n  color: #1e40af !important;\r\n  margin: 1rem 0 !important;\r\n}\r\n\r\n/* 增强版专业建议部分的响应式支持 */\r\n@media (max-width: 1024px) {\r\n  .analysis-card {\r\n    min-height: 240px;\r\n  }\r\n\r\n  .report-header-decoration {\r\n    padding: 2rem 1.5rem 1rem;\r\n  }\r\n\r\n  .header-content {\r\n    gap: 1rem;\r\n  }\r\n\r\n  .header-icon {\r\n    width: 3.5rem;\r\n    height: 3.5rem;\r\n  }\r\n\r\n  .icon-emoji {\r\n    font-size: 1.75rem;\r\n  }\r\n\r\n  .report-title {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .content-wrapper {\r\n    padding: 1.5rem;\r\n  }\r\n\r\n  .report-content-enhanced {\r\n    padding: 1.5rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .card-header {\r\n    @apply px-4 py-3;\r\n  }\r\n\r\n  .card-content {\r\n    @apply p-4 space-y-3;\r\n  }\r\n\r\n  .analysis-card {\r\n    min-height: 200px;\r\n  }\r\n\r\n  /* 移动端专业建议样式 */\r\n  .professional-advice-enhanced {\r\n    border-radius: 1rem !important;\r\n    margin: 0 0.5rem !important;\r\n  }\r\n\r\n  .report-header-decoration {\r\n    padding: 1.5rem 1rem 1rem;\r\n  }\r\n\r\n  .header-content {\r\n    flex-direction: column;\r\n    text-align: center;\r\n    gap: 0.75rem;\r\n  }\r\n\r\n  .header-icon {\r\n    width: 3rem;\r\n    height: 3rem;\r\n  }\r\n\r\n  .icon-emoji {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .report-title {\r\n    font-size: 1.375rem;\r\n  }\r\n\r\n  .report-subtitle {\r\n    font-size: 0.875rem;\r\n  }\r\n\r\n  .header-badges {\r\n    justify-content: center;\r\n  }\r\n\r\n  .badge {\r\n    font-size: 0.7rem;\r\n    padding: 0.2rem 0.6rem;\r\n  }\r\n\r\n  .content-wrapper {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n    padding: 1rem;\r\n  }\r\n\r\n  .left-decoration,\r\n  .right-decoration {\r\n    display: none;\r\n  }\r\n\r\n  /* 移动端行为模式布局优化 */\r\n  .report-text-enhanced :deep(.behavior-pattern-grid) {\r\n    grid-template-columns: 1fr !important;\r\n    gap: 1.5rem !important;\r\n    margin: 1rem 0 !important;\r\n    width: 100% !important;\r\n    max-width: 100% !important;\r\n    min-width: 0 !important;\r\n    flex: 1 !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(.behavior-cycle-card),\r\n  .report-text-enhanced :deep(.cognitive-bias-card) {\r\n    padding: 1.25rem !important;\r\n    width: 100% !important;\r\n    min-width: 0 !important;\r\n    flex: 1 !important;\r\n    box-sizing: border-box !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(.cycle-item),\r\n  .report-text-enhanced :deep(.bias-item) {\r\n    padding: 0.75rem !important;\r\n    margin: 0.5rem 0 !important;\r\n  }\r\n\r\n  .report-content-enhanced {\r\n    padding: 1.25rem;\r\n    margin: 0;\r\n    width: 100%;\r\n  }\r\n\r\n  .report-text-enhanced :deep(h1) {\r\n    font-size: 1.5rem !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(h2) {\r\n    font-size: 1.25rem !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(h3) {\r\n    font-size: 1.125rem !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(p) {\r\n    font-size: 1rem !important;\r\n    line-height: 1.6 !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(ul),\r\n  .report-text-enhanced :deep(ol) {\r\n    padding-left: 1.25rem !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(li) {\r\n    font-size: 1rem !important;\r\n  }\r\n\r\n  .report-footer-decoration {\r\n    padding: 1rem 1rem;\r\n  }\r\n\r\n  .footer-text {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .professional-advice-enhanced {\r\n    margin: 0 0.25rem !important;\r\n    border-radius: 0.75rem !important;\r\n  }\r\n\r\n  .report-header-decoration {\r\n    padding: 1rem 0.75rem 0.75rem;\r\n  }\r\n\r\n  .header-content {\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  .header-icon {\r\n    width: 2.5rem;\r\n    height: 2.5rem;\r\n  }\r\n\r\n  .icon-emoji {\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  .report-title {\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  .report-subtitle {\r\n    font-size: 0.8rem;\r\n  }\r\n\r\n  .content-wrapper {\r\n    padding: 0.75rem;\r\n  }\r\n\r\n  .report-content-enhanced {\r\n    padding: 1rem;\r\n  }\r\n\r\n  .report-text-enhanced :deep(h1) {\r\n    font-size: 1.375rem !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(h2) {\r\n    font-size: 1.125rem !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(h3) {\r\n    font-size: 1rem !important;\r\n  }\r\n\r\n  .report-text-enhanced :deep(p),\r\n  .report-text-enhanced :deep(li) {\r\n    font-size: 1rem !important;\r\n  }\r\n\r\n  .report-footer-decoration {\r\n    padding: 0.75rem 0.75rem;\r\n  }\r\n\r\n  .footer-text {\r\n    font-size: 0.75rem;\r\n    flex-direction: column;\r\n    gap: 0.25rem;\r\n  }\r\n}\r\n</style>\r\n","<template>\n  <div class=\"min-h-screen flex items-center justify-center px-4\">\n    <div class=\"max-w-md w-full text-center\">\n      <div class=\"card p-8\">\n        <h1 class=\"text-6xl font-bold text-gray-400 mb-4\">404</h1>\n        <h2 class=\"text-2xl font-semibold text-gray-900 mb-4\">页面未找到</h2>\n        <p class=\"text-gray-600 mb-8\">\n          抱歉，您访问的页面不存在。\n        </p>\n        <button\n          @click=\"goHome\"\n          class=\"btn btn-primary\"\n        >\n          返回首页\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\n\nconst goHome = () => {\n  router.push('/')\n}\n</script>","import { createRouter, createWebHistory } from 'vue-router'\nimport Introduction from '@/views/Introduction.vue'\nimport Questionnaire from '@/views/Questionnaire.vue'\nimport Results from '@/views/Results.vue'\nimport NotFound from '@/views/NotFound.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Introduction',\n    component: Introduction,\n    meta: {\n      title: '情绪疲惫度测试'\n    }\n  },\n  {\n    path: '/questionnaire',\n    name: 'Questionnaire',\n    component: Questionnaire,\n    meta: {\n      title: '答题 - 情绪疲惫度测试'\n    }\n  },\n  {\n    path: '/results',\n    name: 'Results',\n    component: Results,\n    meta: {\n      title: '测试结果 - 情绪疲惫度测试'\n    }\n  },\n  {\n    path: '/404',\n    name: 'NotFound',\n    component: NotFound,\n    meta: {\n      title: '页面未找到'\n    }\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    redirect: '/404'\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\n// 路由守卫 - 设置页面标题\nrouter.beforeEach((to) => {\n  // 设置页面标题\n  if (to.meta?.title) {\n    document.title = to.meta.title as string\n  }\n})\n\nexport default router","<template>\n  <div id=\"app\" class=\"min-h-screen\">\n    <!-- 主要路由内容 -->\n    <router-view v-slot=\"{ Component }\">\n      <transition name=\"fade\" mode=\"out-in\">\n        <component :is=\"Component\" />\n      </transition>\n    </router-view>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n// 在应用启动时恢复用户答案（如果有的话）\nimport { useFatigueTestStore } from '@/stores/fatigueTest'\nimport { onMounted } from 'vue'\n\nconst fatigueTestStore = useFatigueTestStore()\n\nonMounted(() => {\n  fatigueTestStore.restoreAnswers()\n})\n</script>\n\n<style>\n/* 页面切换动画 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n/* 自定义滚动条 */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n\n/* 焦点样式 */\n*:focus {\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n\n/* 选择文本样式 */\n::selection {\n  background-color: #3b82f6;\n  color: white;\n}\n\n/* 响应式图片和视频 */\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* 禁用某些移动端默认行为 */\n* {\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* 允许文本选择 */\ninput,\ntextarea,\nselect,\n[contenteditable] {\n  -webkit-user-select: text;\n  -khtml-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n</style>","import { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport router from './router'\nimport App from './App.vue'\nimport './style.css'\n\nconst app = createApp(App)\nconst pinia = createPinia()\n\napp.use(pinia)\napp.use(router)\n\napp.mount('#app')"],"file":"assets/index-C3DX3tUt.js"}